/*1367615449,178142515*/

if (self.CavalryLogger) { CavalryLogger.start_js(["jdFtT"]); }

__d("EmuController",["AsyncRequest","DataStore","URI","copyProperties","emptyFunction","ge","goURI"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('DataStore'),i=b('URI'),j=b('copyProperties'),k=b('emptyFunction'),l=b('ge'),m=b('goURI');function n(o,p){var q=l(o);if(!q)return null;this.impression=p;this.containerId=o;h.set(q,'emuController',this);return this;}j(n,{fromContainer:function(o){var p=l(o);if(!p)return null;return h.get(p,'emuController');},getEventClass:function(o){return "emuEvent"+String(o).trim();}});j(n.prototype,{EVENT_HANDLER_PATH:'/ajax/emu/end.php',CLICK:1,FAN:"fad_fan",FOLLOW:"fad_follow",event:function(o,p,q,r){var s={eid:this.impression,f:0,ui:this.containerId,en:o,a:1};if(p)s.ed=JSON.stringify(p);if(!r)r=k;var t=new g().setURI(this.EVENT_HANDLER_PATH).setData(s).setErrorHandler(r);if(q)t.setHandler(q);t.send();},redirect:function(){var o={eid:this.impression,f:0,ui:this.containerId,en:this.CLICK,a:0,sig:Math.floor(Math.random()*65535)+65536},p=new i(this.EVENT_HANDLER_PATH);p.setQueryData(o);m(p);}});e.exports=n;});
__d("legacy:ad-units-base-js",["EmuController"],function(a,b,c,d){a.EmuController=b('EmuController');},3);
__d("AdblockDetector",[],function(a,b,c,d,e,f){var g='data-adblock-hash',h={},i=0;function j(k,l){var m=k.getAttribute(g);if(!m){m=++i;k.setAttribute(g,m);}else if(h[m]){clearTimeout(h[m]);h[m]=null;}h[m]=setTimeout(function(){h[m]=null;if(!k.offsetHeight){var n=k,o=document.getElementsByTagName('body')[0];while(n&&n!==o){if(n.style.display==='none'||n.style.height==='0px'||n.style.height===0||n.style.height==='0'||n.childNodes.length===0)return;n=n.parentNode;}if(n===o)l&&l(k);}},3000);}f.assertUnblocked=j;});
__d("AdblockDetectorLogging",["AdblockDetector","EagleEye"],function(a,b,c,d,e,f){var g=b('AdblockDetector'),h=b('EagleEye');function i(j){g.assertUnblocked(j,h.log.bind(h,'ads',{event:'ads_blocked'}));}f.assertUnblocked=i;});
__d("EgoAdsObjectSet",["copyProperties","csx","DOM"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('csx'),i=b('DOM');function j(){this._allEgoUnits=[];this._egoUnits=[];}g(j.prototype,{init:function(l){this._allEgoUnits=l;this._egoUnits=[];this._allEgoUnits.forEach(function(m){var n=k(m);if(!n||!n.holdout)this._egoUnits.push(m);},this);},getCount:function(){return this._egoUnits.length;},forEach:function(l,m){this._egoUnits.forEach(l,m);},getUnit:function(l){return this._egoUnits[l];},getHoldoutAdIDsForSpace:function(l,m){if(!l||!m)return [];var n=[];for(var o=0;l>0&&o<this._allEgoUnits.length;o++){var p=this._allEgoUnits[o],q=m(p),r=k(p);if(l>=q&&r&&r.holdout)n.push(r.adid);l-=q;}return n;},getHoldoutAdIDsForNumAds:function(l){l=Math.min(l,this._allEgoUnits.length);var m=[];for(var n=0;n<l;n++){var o=this._allEgoUnits[n],p=k(o);if(p&&p.holdout)m.push(p.adid);}return m;}});function k(l){var m=i.scry(l,"div._4u8")[0],n=m&&m.getAttribute('data-ad');return n&&JSON.parse(n)||undefined;}e.exports=j;});
__d("RHCAdsController",["JSXDOM","Bootloader","CSS","DOM"],function(a,b,c,d,e,f){var g=b('JSXDOM'),h=b('Bootloader'),i=b('CSS'),j=b('DOM'),k={},l={addAd:function(m,n){k[m]=n;},hideAdShowPoll:function(m,n){h.loadModules(['AdsHidePoll'],function(o){var p=k[m];if(!p)throw "Unregistered ad with token: "+m;var q=g.div({className:"poll"});j.appendContent(p.parentNode,q);var r=new o(q,m,n);r.setUndoHandler(function(){j.remove(j.find(p.parentNode,'.poll'));i.show(p.parentNode.firstChild);});r.renderAsync(function(){i.hide(p.parentNode.firstChild);});});}};e.exports=l;});
__d("MovingStat",[],function(a,b,c,d,e,f){function g(h){h=h||60000;var i={t:new Date(),count:0,v:0},j=i,k=0,l=0;function m(){var n=new Date()-h;while(j&&j.next&&j.t<n){k-=j.v;l-=j.count;j=j.next;}}this.add=function(n){k+=n;l++;var o=new Date();if(o-i.t<1000){i.v+=n;i.count++;}else{i.next={t:o,v:n,count:1};i=i.next;m();}};this.tally=function(n){n=n||1000;m();return {sum:k,count:l,timeAverage:k*n/h};};}e.exports=g;});
__d("ChatConfig",["ChatConfigInitialData","copyProperties"],function(a,b,c,d,e,f){var g=b('ChatConfigInitialData'),h=b('copyProperties'),i={},j={get:function(k,l){return k in i?i[k]:l;},set:function(k){if(arguments.length>1){var l={};l[k]=arguments[1];k=l;}h(i,k);},getDebugInfo:function(){return i;}};j.set(g);e.exports=j;});
__d("Rect",["Vector","$","copyProperties"],function(a,b,c,d,e,f){var g=b('Vector'),h=b('$'),i=b('copyProperties');function j(k,l,m,n,o){if(arguments.length===1){if(k instanceof j)return k;if(k instanceof g)return new j(k.y,k.x,k.y,k.x,k.domain);return j.getElementBounds(h(k));}i(this,{t:k,r:l,b:m,l:n,domain:o||'pure'});}i(j.prototype,{w:function(){return this.r-this.l;},h:function(){return this.b-this.t;},toString:function(){return '(('+this.l+', '+this.t+'), ('+this.r+', '+this.b+'))';},contains:function(k){k=new j(k).convertTo(this.domain);var l=this;return (l.l<=k.l&&l.r>=k.r&&l.t<=k.t&&l.b>=k.b);},add:function(k,l){if(arguments.length==1){if(k.domain!='pure')k=k.convertTo(this.domain);return this.add(k.x,k.y);}var m=parseFloat(k),n=parseFloat(l);return new j(this.t+n,this.r+m,this.b+n,this.l+m,this.domain);},sub:function(k,l){if(arguments.length==1){return this.add(k.mul(-1));}else return this.add(-k,-l);},boundWithin:function(k){var l=0,m=0;if(this.l<k.l){l=k.l-this.l;}else if(this.r>k.r)l=k.r-this.r;if(this.t<k.t){m=k.t-this.t;}else if(this.b>k.b)m=k.b-this.b;return this.add(l,m);},getCenter:function(){return new g(this.l+this.w()/2,this.t+this.h()/2,this.domain);},getPositionVector:function(){return new g(this.l,this.t,this.domain);},getDimensionVector:function(){return new g(this.w(),this.h(),'pure');},convertTo:function(k){if(this.domain==k)return this;if(k=='pure')return new j(this.t,this.r,this.b,this.l,'pure');if(this.domain=='pure')return new j(0,0,0,0);var l=new g(this.l,this.t,this.domain).convertTo(k);return new j(l.y,l.x+this.w(),l.y+this.h(),l.x,k);}});i(j,{deserialize:function(k){var l=k.split(':');return new j(parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3]),parseFloat(l[0]));},newFromVectors:function(k,l){return new j(k.y,k.x+l.x,k.y+l.y,k.x,k.domain);},getElementBounds:function(k){return j.newFromVectors(g.getElementPosition(k),g.getElementDimensions(k));},getViewportBounds:function(){return j.newFromVectors(g.getScrollPosition(),g.getViewportDimensions());},minimumBoundingBox:function(k){var l=new j(Math.min(),Math.max(),Math.max(),Math.min()),m;for(var n=0;n<k.length;n++){m=k[n];l.t=Math.min(l.t,m.t);l.r=Math.max(l.r,m.r);l.b=Math.max(l.b,m.b);l.l=Math.min(l.l,m.l);}return l;}});e.exports=j;});
__d("legacy:ChatTypeaheadBehavior",["ChatTypeaheadBehavior"],function(a,b,c,d){var e=b('ChatTypeaheadBehavior');if(!a.TypeaheadBehaviors)a.TypeaheadBehaviors={};a.TypeaheadBehaviors.chatTypeahead=function(f){f.enableBehavior(e);};},3);
__d("ScrollAwareDOM",["ArbiterMixin","CSS","DOM","DOMDimensions","DOMPosition","DOMQuery","HTML","Vector","ViewportBounds","copyProperties","isAsyncScrollQuery"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('CSS'),i=b('DOM'),j=b('DOMDimensions'),k=b('DOMPosition'),l=b('DOMQuery'),m=b('HTML'),n=b('Vector'),o=b('ViewportBounds'),p=b('copyProperties'),q=b('isAsyncScrollQuery');function r(w,x){return function(){v.monitor(arguments[w],x.curry.apply(x,arguments));};}function s(w){if(!(w instanceof Array))w=[w];for(var x=0;x<w.length;x++){var y=m.replaceJSONWrapper(w[x]);if(y instanceof m){return y.getRootNode();}else if(i.isNode(y))return y;}return null;}function t(w){return k.getElementPosition(w).y>o.getTop();}function u(w){var x=k.getElementPosition(w).y+j.getElementDimensions(w).height,y=j.getViewportDimensions().height-o.getBottom();return x>=y;}var v=p({monitor:function(w,x){if(q())return x();var y=s(w);if(y){var z=!!y.offsetParent;if(z&&(t(y)||u(y)))return x();var aa=n.getDocumentDimensions(),ba=x();if(z||(y.offsetParent&&!t(y))){var ca=n.getDocumentDimensions().sub(aa),da={delta:ca,target:y};if(v.inform('scroll',da)!==false)ca.scrollElementBy(l.getDocumentScrollElement());}return ba;}else return x();},replace:function(w,x){var y=s(x);if(!y||h.hasClass(y,'hidden_elem'))y=w;return v.monitor(y,function(){i.replace(w,x);});},prependContent:r(1,i.prependContent),insertAfter:r(1,i.insertAfter),insertBefore:r(1,i.insertBefore),setContent:r(0,i.setContent),appendContent:r(1,i.appendContent),remove:r(0,i.remove),empty:r(0,i.empty)},g);e.exports=v;});
__d("legacy:ScrollAwareDOM",["ScrollAwareDOM"],function(a,b,c,d){a.ScrollAwareDOM=b('ScrollAwareDOM');},3);
__d("Base64",[],function(a,b,c,d,e,f){var g='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';function h(l){l=(l.charCodeAt(0)<<16)|(l.charCodeAt(1)<<8)|l.charCodeAt(2);return String.fromCharCode(g.charCodeAt(l>>>18),g.charCodeAt((l>>>12)&63),g.charCodeAt((l>>>6)&63),g.charCodeAt(l&63));}var i='>___?456789:;<=_______'+'\0\1\2\3\4\5\6\7\b\t\n\13\f\r\16\17\20\21\22\23\24\25\26\27\30\31'+'______\32\33\34\35\36\37 !"#$%&\'()*+,-./0123';function j(l){l=(i.charCodeAt(l.charCodeAt(0)-43)<<18)|(i.charCodeAt(l.charCodeAt(1)-43)<<12)|(i.charCodeAt(l.charCodeAt(2)-43)<<6)|i.charCodeAt(l.charCodeAt(3)-43);return String.fromCharCode(l>>>16,(l>>>8)&255,l&255);}var k={encode:function(l){l=unescape(encodeURI(l));var m=(l.length+2)%3;l=(l+'\0\0'.slice(m)).replace(/[\s\S]{3}/g,h);return l.slice(0,l.length+m-2)+'=='.slice(m);},decode:function(l){l=l.replace(/[^A-Za-z0-9+\/]/g,'');var m=(l.length+3)&3;l=(l+'AAA'.slice(m)).replace(/..../g,j);l=l.slice(0,l.length+m-3);try{return decodeURIComponent(escape(l));}catch(n){throw new Error('Not valid UTF-8');}},encodeObject:function(l){return k.encode(JSON.stringify(l));},decodeObject:function(l){return JSON.parse(k.decode(l));},encodeNums:function(l){return String.fromCharCode.apply(String,l.map(function(m){return g.charCodeAt((m|-(m>63))&-(m>0)&63);}));}};e.exports=k;});
__d("legacy:base64",["Base64"],function(a,b,c,d){a.Base64=b('Base64');},3);
__d("legacy:dom-form",["Form"],function(a,b,c,d){a.Form=b('Form');},3);
__d("legacy:dom-html",["HTML"],function(a,b,c,d){a.HTML=b('HTML');},3);
__d("FBDesktopDetect",["UserAgent"],function(a,b,c,d,e,f){var g=b('UserAgent'),h='facebook.desktopplugin',i={mimeType:'application/x-facebook-desktop-1',isPluginInstalled:function(){if(g.osx())return false;var j=null;if(a.ActiveXObject){try{j=new a.ActiveXObject(h);if(j)return true;}catch(k){}}else if(a.navigator&&a.navigator.plugins){a.navigator.plugins.refresh(false);for(var l=0,m=a.navigator.plugins.length;l<m;l++){j=a.navigator.plugins[l];if(j.length&&j[0].type===this.mimeType)return true;}}return false;}};e.exports=i;});
__d("TypeaheadFacepile",["DOM"],function(a,b,c,d,e,f){var g=b('DOM');function h(){}h.render=function(i){var j=[g.create('span',{className:'splitpic leftpic'},[g.create('img',{alt:'',src:i[0]})]),g.create('span',{className:'splitpic'+(i[2]?' toppic':'')},[g.create('img',{alt:'',src:i[1]})])];if(i[2])j.push(g.create('span',{className:'splitpic bottompic'},[g.create('img',{alt:'',src:i[2]})]));return g.create('span',{className:'splitpics clearfix'},j);};e.exports=h;});
__d("NavigationMessage",[],function(a,b,c,d,e,f){var g={NAVIGATION_BEGIN:'NavigationMessage/navigationBegin',NAVIGATION_SELECT:'NavigationMessage/navigationSelect',NAVIGATION_FIRST_RESPONSE:'NavigationMessage/navigationFirstResponse',NAVIGATION_COMPLETED:'NavigationMessage/navigationCompleted',NAVIGATION_FAILED:'NavigationMessage/navigationFailed',NAVIGATION_COUNT_UPDATE:'NavigationMessage/navigationCount',NAVIGATION_FAVORITE_UPDATE:'NavigationMessage/navigationFavoriteUpdate',NAVIGATION_ITEM_REMOVED:'NavigationMessage/navigationItemRemoved',NAVIGATION_ITEM_HIDDEN:'NavigationMessage/navigationItemHidden',INTERNAL_LOADING_BEGIN:'NavigationMessage/internalLoadingBegin',INTERNAL_LOADING_COMPLETED:'NavigationMessage/internalLoadingCompleted'};e.exports=g;});
__d("SimpleDrag",["Event","ArbiterMixin","UserAgent","Vector","copyProperties","emptyFunction"],function(a,b,c,d,e,f){var g=b('Event'),h=b('ArbiterMixin'),i=b('UserAgent'),j=b('Vector'),k=b('copyProperties'),l=b('emptyFunction');function m(n){this.minDragDistance=0;g.listen(n,'mousedown',this._start.bind(this));}k(m.prototype,h,{setMinDragDistance:function(n){this.minDragDistance=n;},_start:function(event){var n=false,o=true,p=null;if(this.inform('mousedown',event))o=false;if(this.minDragDistance){p=j.getEventPosition(event);}else{n=true;var q=this.inform('start',event);if(q===true){o=false;}else if(q===false){n=false;return;}}var r=i.ie()<9?document.documentElement:window,s=g.listen(r,{selectstart:o?g.prevent:l,mousemove:function(event){if(!n){var t=j.getEventPosition(event);if(p.distanceTo(t)<this.minDragDistance)return;n=true;if(this.inform('start',event)===false){n=false;return;}}this.inform('update',event);}.bind(this),mouseup:function(event){for(var t in s)s[t].remove();if(n){this.inform('end',event);}else this.inform('click',event);}.bind(this)});o&&event.prevent();}});e.exports=m;});
__d("event-extensions",["Event"],function(a,b,c,d,e,f){e.exports=b('Event');});
__d("legacy:async-signal",["AsyncSignal"],function(a,b,c,d){a.AsyncSignal=b('AsyncSignal');},3);
__d("Dialog",["Animation","Arbiter","AsyncRequest","Bootloader","Button","ContextualThing","CSS","DOM","Event","Focus","Form","HTML","Keys","Locale","Parent","Run","Style","URI","UserAgent","Vector","bind","copyProperties","createArrayFrom","emptyFunction","getObjectValues","getOverlayZIndex","removeFromArray","shield","tx"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Arbiter'),i=b('AsyncRequest'),j=b('Bootloader'),k=b('Button'),l=b('ContextualThing'),m=b('CSS'),n=b('DOM'),o=b('Event'),p=b('Focus'),q=b('Form'),r=b('HTML'),s=b('Keys'),t=b('Locale'),u=b('Parent'),v=b('Run'),w=b('Style'),x=b('URI'),y=b('UserAgent'),z=b('Vector'),aa=b('bind'),ba=b('copyProperties'),ca=b('createArrayFrom'),da=b('emptyFunction'),ea=b('getObjectValues'),fa=b('getOverlayZIndex'),ga=b('removeFromArray'),ha=b('shield'),ia=b('tx'),ja=function(){var la=document.body,ma=document.createElement('div'),na=document.createElement('div');la.insertBefore(ma,la.firstChild);la.insertBefore(na,la.firstChild);ma.style.position='fixed';ma.style.top='20px';var oa=ma.offsetTop!==na.offsetTop;la.removeChild(ma);la.removeChild(na);ja=da.thatReturns(oa);return oa;};function ka(la){this._show_loading=true;this._auto_focus=true;this._submit_on_enter=false;this._fade_enabled=true;this._onload_handlers=[];this._top=125;this._uniqueID='dialog_'+ka._globalCount++;this._content=null;this._obj=null;this._popup=null;this._overlay=null;this._shim=null;this._causal_elem=null;this._previous_focus=null;this._buttons=[];this._buildDialog();if(la)this._setFromModel(la);ka._init();}ba(ka,{OK:{name:'ok',label:"OK"},CANCEL:{name:'cancel',label:"Annulla",className:'inputaux'},CLOSE:{name:'close',label:"Chiudi"},NEXT:{name:'next',label:"Avanti"},SAVE:{name:'save',label:"Salva"},SUBMIT:{name:'submit',label:"Invia"},CONFIRM:{name:'confirm',label:"Conferma"},DELETE:{name:'delete',label:"Elimina"},_globalCount:0,_bottoms:[0],max_bottom:0,_updateMaxBottom:function(){ka.max_bottom=Math.max.apply(Math,ka._bottoms);}});ba(ka,{OK_AND_CANCEL:[ka.OK,ka.CANCEL],_STANDARD_BUTTONS:[ka.OK,ka.CANCEL,ka.CLOSE,ka.SAVE,ka.SUBMIT,ka.CONFIRM,ka.DELETE],SIZE:{WIDE:555,STANDARD:445},_HALO_WIDTH:10,_BORDER_WIDTH:1,_PADDING_WIDTH:10,_PAGE_MARGIN:40,_stack:[],_isUsingCSSBorders:function(){return y.ie()<7;},newButton:function(la,ma,na,oa){var pa={name:la,label:ma};if(na)pa.className=na;if(oa)pa.handler=oa;return pa;},getCurrent:function(){var la=ka._stack;return la.length?la[la.length-1]:null;},hideCurrent:function(){var la=ka.getCurrent();la&&la.hide();},bootstrap:function(la,ma,na,oa,pa,qa){ma=ma||{};ba(ma,new x(la).getQueryData());oa=oa||(na?'GET':'POST');var ra=u.byClass(qa,'stat_elem')||qa;if(ra&&m.hasClass(ra,'async_saving'))return false;var sa=new i().setReadOnly(!!na).setMethod(oa).setRelativeTo(qa).setStatusElement(ra).setURI(la).setNectarModuleDataSafe(qa).setData(ma),ta=new ka(pa).setCausalElement(qa).setAsync(sa);ta.show();return false;},loadFromEndpoint:function(la){new i(la).send();},showFromModel:function(la,ma){var na=new ka(la).setCausalElement(ma).show();if(la.hiding)na.hide();},_init:function(){this._init=da;v.onLeave(ha(ka._tearDown,null,false));h.subscribe('page_transition',ha(ka._tearDown,null,true));o.listen(document.documentElement,'keydown',function(event){if(o.getKeyCode(event)==s.ESC&&!event.getModifiers().any){if(ka._escape())event.kill();}else if(o.getKeyCode(event)==s.RETURN&&!event.getModifiers().any)if(ka._enter())event.kill();});o.listen(window,'resize',function(event){var la=ka.getCurrent();la&&la._resetDialogObj();});},_findButton:function(la,ma){if(la)for(var na=0;na<la.length;++na)if(la[na].name==ma)return la[na];return null;},_tearDown:function(la){var ma=ka._stack.slice();for(var na=ma.length-1;na>=0;na--)if((la&&!ma[na]._cross_transition)||(!la&&!ma[na]._cross_quickling))ma[na].hide();},_escape:function(){var la=ka.getCurrent();if(!la)return false;var ma=la._semi_modal,na=la._buttons;if(!na.length&&!ma)return false;if(ma&&!na.length){la.hide();return true;}var oa,pa=ka._findButton(na,'cancel');if(la._cancelHandler){la.cancel();return true;}else if(pa){oa=pa;}else if(na.length==1){oa=na[0];}else return false;la._handleButton(oa);return true;},_enter:function(){var la=ka.getCurrent();if(!la||!la._submit_on_enter)return false;if(document.activeElement!=la._frame)return false;var ma=la._buttons;if(!ma)return false;la._handleButton(ma[0]);return true;},call_or_eval:function(la,ma,na){if(!ma)return undefined;na=na||{};if(typeof ma=='string'){var oa=Object.keys(na).join(', ');ma=(eval)('({f: function('+oa+') { '+ma+'}})').f;}return ma.apply(la,ea(na));}});ba(ka.prototype,{_cross_quickling:false,_cross_transition:false,_loading:false,_showing:false,show:function(){this._showing=true;if(this._async_request){if(this._show_loading)this.showLoading();}else this._update();return this;},showLoading:function(){this._loading=true;m.addClass(this._frame,'dialog_loading_shown');this._renderDialog();return this;},hide:function(){if(!this._showing&&!this._loading)return this;this._showing=false;if(this._autohide_timeout){clearTimeout(this._autohide_timeout);this._autohide_timeout=null;}if(this._fade_enabled&&ka._stack.length<=1){this._fadeOut();}else this._hide();return this;},cancel:function(){if(!this._cancelHandler||this._cancelHandler()!==false)this.hide();},getRoot:function(){return this._obj;},getBody:function(){return n.scry(this._obj,'div.dialog_body')[0];},getButtonElement:function(la){if(typeof la=='string')la=ka._findButton(this._buttons,la);if(!la||!la.name)return null;var ma=n.scry(this._popup,'input'),na=function(oa){return oa.name==la.name;};return ma.filter(na)[0]||null;},getContentNode:function(){return n.find(this._content,'div.dialog_content');},getFormData:function(){return q.serialize(this.getContentNode());},setAllowCrossPageTransition:function(la){this._cross_transition=la;return this;},setAllowCrossQuicklingNavigation:function(la){this._cross_quickling=la;return this;},setShowing:function(){this.show();return this;},setHiding:function(){this.hide();return this;},setTitle:function(la){var ma=this._nodes.title,na=this._nodes.title_inner,oa=this._nodes.content;n.setContent(na,this._format(la||''));m.conditionShow(ma,!!la);m.conditionClass(oa,'dialog_content_titleless',!la);return this;},setBody:function(la){n.setContent(this._nodes.body,this._format(la));return this;},setExtraData:function(la){this._extra_data=la;return this;},setReturnData:function(la){this._return_data=la;return this;},setShowLoading:function(la){this._show_loading=la;return this;},setFullBleed:function(la){this._full_bleed=la;this._updateWidth();m.conditionClass(this._obj,'full_bleed',la);return this;},setCausalElement:function(la){this._causal_elem=la;return this;},setUserData:function(la){this._user_data=la;return this;},getUserData:function(){return this._user_data;},setAutohide:function(la){if(la){if(this._showing){this._autohide_timeout=setTimeout(ha(this.hide,this),la);}else this._autohide=la;}else{this._autohide=null;if(this._autohide_timeout){clearTimeout(this._autohide_timeout);this._autohide_timeout=null;}}return this;},setSummary:function(la){var ma=this._nodes.summary;n.setContent(ma,this._format(la||''));m.conditionShow(ma,!!la);return this;},setButtons:function(la){var ma,na;if(!(la instanceof Array)){ma=ca(arguments);}else ma=la;for(var oa=0;oa<ma.length;++oa)if(typeof ma[oa]=='string'){na=ka._findButton(ka._STANDARD_BUTTONS,ma[oa]);ma[oa]=na;}this._buttons=ma;var pa=[];if(ma&&ma.length>0)for(var qa=0;qa<ma.length;qa++){na=ma[qa];var ra=n.create('input',{type:'button',name:na.name||'',value:na.label}),sa=n.create('label',{className:'uiButton uiButtonLarge uiButtonConfirm'},ra);if(na.className){na.className.split(/\s+/).forEach(function(ua){m.addClass(sa,ua);});if(m.hasClass(sa,'inputaux')){m.removeClass(sa,'inputaux');m.removeClass(sa,'uiButtonConfirm');}if(m.hasClass(sa,'uiButtonSpecial'))m.removeClass(sa,'uiButtonConfirm');}if(na.icon)n.prependContent(sa,n.create('img',{src:na.icon,className:'img mrs'}));if(na.disabled)k.setEnabled(sa,false);o.listen(ra,'click',this._handleButton.bind(this,na.name));for(var ta in na)if(ta.indexOf('data-')===0&&ta.length>5)ra.setAttribute(ta,na[ta]);pa.push(sa);}n.setContent(this._nodes.buttons,pa);this._updateButtonVisibility();return this;},setButtonsMessage:function(la){n.setContent(this._nodes.button_message,this._format(la||''));this._has_button_message=!!la;this._updateButtonVisibility();return this;},_updateButtonVisibility:function(){var la=this._buttons.length>0||this._has_button_message;m.conditionShow(this._nodes.button_wrapper,la);m.conditionClass(this._obj,'omitDialogFooter',!la);},setClickButtonOnEnter:function(la,ma){this._clickOnEnterTarget=la;if(!this._clickOnEnterListener)this._clickOnEnterListener=o.listen(this._nodes.body,'keypress',function(event){var na=event.getTarget();if(na&&na.id===this._clickOnEnterTarget)if(o.getKeyCode(event)==s.RETURN){this._handleButton(ma);event.kill();}return true;}.bind(this));return this;},setStackable:function(la,ma){this._is_stackable=la;this._shown_while_stacked=la&&ma;return this;},setHandler:function(la){this._handler=la;return this;},setCancelHandler:function(la){this._cancelHandler=ka.call_or_eval.bind(null,this,la);return this;},setCloseHandler:function(la){this._close_handler=ka.call_or_eval.bind(null,this,la);return this;},clearHandler:function(){return this.setHandler(null);},setPostURI:function(la,ma){if(ma===undefined)ma=true;if(ma){this.setHandler(this._submitForm.bind(this,'POST',la));}else this.setHandler(function(){q.post(la,this.getFormData());this.hide();}.bind(this));return this;},setGetURI:function(la){this.setHandler(this._submitForm.bind(this,'GET',la));return this;},setModal:function(la){this._modal=la;m.conditionClass(this._obj,'generic_dialog_modal',la);return this;},setSemiModal:function(la){if(la){this.setModal(true);this._semiModalListener=o.listen(this._obj,'click',function(ma){if(!n.contains(this._popup,ma.getTarget()))this.hide();}.bind(this));}else this._semiModalListener&&this._semiModalListener.remove();this._semi_modal=la;return this;},setWideDialog:function(la){this._wide_dialog=la;this._updateWidth();return this;},setContentWidth:function(la){this._content_width=la;this._updateWidth();return this;},setTitleLoading:function(la){if(la===undefined)la=true;var ma=n.find(this._popup,'h2.dialog_title');if(ma)m.conditionClass(ma,'loading',la);return this;},setSecure:function(la){m.conditionClass(this._nodes.title,'secure',la);return this;},setClassName:function(la){la.split(/\s+/).forEach(m.addClass.bind(m,this._obj));return this;},setFadeEnabled:function(la){this._fade_enabled=la;return this;},setFooter:function(la){var ma=this._nodes.footer;n.setContent(ma,this._format(la||''));m.conditionShow(ma,!!la);return this;},setAutoFocus:function(la){this._auto_focus=la;return this;},setTop:function(la){this._top=la;this._resetDialogObj();return this;},onloadRegister:function(la){ca(la).forEach(function(ma){if(typeof ma=='string')ma=new Function(ma);this._onload_handlers.push(ma.bind(this));}.bind(this));return this;},setAsyncURL:function(la){return this.setAsync(new i(la));},setAsync:function(la){var ma=function(ua){if(this._async_request!=la)return;this._async_request=null;var va=ua.getPayload(),wa=va;if(this._loading)this._showing=true;if(typeof wa=='string'){this.setBody(wa);}else this._setFromModel(wa);this._update();}.bind(this),na=la.getData();na.__d=1;la.setData(na);var oa=la.getHandler()||da;la.setHandler(function(ua){oa(ua);ma(ua);});var pa=la,qa=pa.getErrorHandler()||da,ra=pa.getTransportErrorHandler()||da,sa=function(){this._async_request=null;this._loading=false;if(this._showing&&this._shown_while_stacked){this._update();}else this._hide(this._is_stackable);}.bind(this),ta=pa.getServerDialogCancelHandler()||sa;pa.setAllowCrossPageTransition(this._cross_transition).setErrorHandler(function(ua){sa();qa(ua);}).setTransportErrorHandler(function(ua){sa();ra(ua);}).setServerDialogCancelHandler(ta);la.send();this._async_request=la;if(this._showing)this.show();return this;},_format:function(la){if(typeof la=='string'){la=r(la);}else la=r.replaceJSONWrapper(la);if(la instanceof r)la.setDeferred(true);return la;},_update:function(){if(!this._showing)return;if(this._autohide&&!this._async_request&&!this._autohide_timeout)this._autohide_timeout=setTimeout(aa(this,'hide'),this._autohide);m.removeClass(this._frame,'dialog_loading_shown');this._loading=false;this._renderDialog();this._runOnloads();this._previous_focus=document.activeElement;p.set(this._frame);},_runOnloads:function(){for(var la=0;la<this._onload_handlers.length;++la)try{this._onload_handlers[la]();}catch(ma){}this._onload_handlers=[];},_updateWidth:function(){var la=2*ka._BORDER_WIDTH;if(ka._isUsingCSSBorders())la+=2*ka._HALO_WIDTH;if(this._content_width){la+=this._content_width;if(!this._full_bleed)la+=2*ka._PADDING_WIDTH;}else if(this._wide_dialog){la+=ka.SIZE.WIDE;}else la+=ka.SIZE.STANDARD;this._popup.style.width=la+'px';},_updateZIndex:function(){if(!this._hasSetZIndex&&this._causal_elem){var la=fa(this._causal_elem),ma=this._causal_elem;while(!la&&(ma=l.getContext(ma)))la=fa(ma);this._hasSetZIndex=la>(this._modal?400:200);w.set(this._obj,'z-index',this._hasSetZIndex?la:'');}},_renderDialog:function(){this._updateZIndex();this._pushOntoStack();this._obj.style.height=(this._modal&&y.ie()<7)?z.getDocumentDimensions().y+'px':null;if(this._obj&&this._obj.style.display){this._obj.style.visibility='hidden';this._obj.style.display='';this.resetDialogPosition();this._obj.style.visibility='';this._obj.dialog=this;}else this.resetDialogPosition();clearInterval(this.active_hiding);this.active_hiding=setInterval(this._activeResize.bind(this),500);this._submit_on_enter=false;if(this._auto_focus){var la=q.getFirstElement(this._content,['input[type="text"]','textarea','input[type="password"]']);if(la){q.focusFirst.bind(this,this._content).defer();}else this._submit_on_enter=true;}var ma=z.getElementDimensions(this._content).y+z.getElementPosition(this._content).y;ka._bottoms.push(ma);this._bottom=ma;ka._updateMaxBottom();return this;},_buildDialog:function(){this._obj=n.create('div',{className:'generic_dialog',id:this._uniqueID});this._obj.style.display='none';n.appendContent(document.body,this._obj);if(!this._popup)this._popup=n.create('div',{className:'generic_dialog_popup'});this._obj.appendChild(this._popup);if(y.ie()<7&&!this._shim)j.loadModules(['IframeShim'],function(xa){this._shim=new xa(this._popup);});m.addClass(this._obj,'pop_dialog');if(t.isRTL())m.addClass(this._obj,'pop_dialog_rtl');var la;if(ka._isUsingCSSBorders()){la='<div class="pop_container_advanced">'+'<div class="pop_content" id="pop_content"></div>'+'</div>';}else la='<div class="pop_container">'+'<div class="pop_verticalslab"></div>'+'<div class="pop_horizontalslab"></div>'+'<div class="pop_topleft"></div>'+'<div class="pop_topright"></div>'+'<div class="pop_bottomright"></div>'+'<div class="pop_bottomleft"></div>'+'<div class="pop_content pop_content_old" id="pop_content"></div>'+'</div>';n.setContent(this._popup,r(la));var ma=n.find(this._popup,'div.pop_content');ma.setAttribute('tabIndex','0');ma.setAttribute('role','alertdialog');this._frame=this._content=ma;var na=n.create('div',{className:'dialog_loading'},"Caricamento in corso..."),oa=n.create('span'),pa=n.create('h2',{className:'dialog_title hidden_elem',id:'title_'+this._uniqueID},oa),qa=n.create('div',{className:'dialog_summary hidden_elem'}),ra=n.create('div',{className:'dialog_body'}),sa=n.create('div',{className:'rfloat mlm'}),ta=n.create('div',{className:'dialog_buttons_msg'}),ua=n.create('div',{className:'dialog_buttons clearfix hidden_elem'},[sa,ta]),va=n.create('div',{className:'dialog_footer hidden_elem'}),wa=n.create('div',{className:'dialog_content'},[qa,ra,ua,va]);this._nodes={summary:qa,body:ra,buttons:sa,button_message:ta,button_wrapper:ua,footer:va,content:wa,title:pa,title_inner:oa};n.setContent(this._frame,[pa,wa,na]);},_updateShim:function(){return this._shim&&this._shim.show();},_activeResize:function(){if(this.last_offset_height!=this._content.offsetHeight){this.last_offset_height=this._content.offsetHeight;this.resetDialogPosition();}},resetDialogPosition:function(){if(!this._popup)return;this._resetDialogObj();this._updateShim();},_resetDialogObj:function(){var la=2*ka._PAGE_MARGIN,ma=z.getViewportDimensions(),na=ma.x-la,oa=ma.y-la,pa=2*ka._HALO_WIDTH,qa=z.getElementDimensions(this._content),ra=qa.x+pa,sa=qa.y+pa,ta=this._top,ua=na-ra,va=oa-sa;if(va<0){ta=ka._PAGE_MARGIN;}else if(ta>va)ta=ka._PAGE_MARGIN+(Math.max(va,0)/2);var wa=ja();if(!wa)ta+=z.getScrollPosition().y;w.set(this._popup,'marginTop',ta+'px');var xa=wa&&(ua<0||va<0);m.conditionClass(this._obj,'generic_dialog_fixed_overflow',xa);m.conditionClass(document.documentElement,'generic_dialog_overflow_mode',xa);},_fadeOut:function(la){if(!this._popup)return;try{new g(this._obj).duration(0).checkpoint().to('opacity',0).hide().duration(250).ondone(this._hide.bind(this,la)).go();}catch(ma){this._hide(la);}},_hide:function(la){if(this._obj)this._obj.style.display='none';m.removeClass(document.documentElement,'generic_dialog_overflow_mode');this._updateShim();clearInterval(this.active_hiding);if(this._bottom){var ma=ka._bottoms;ma.splice(ma.indexOf(this._bottom),1);ka._updateMaxBottom();}if(this._previous_focus&&document.activeElement&&n.contains(this._obj,document.activeElement))p.set(this._previous_focus);if(la)return;this.destroy();},destroy:function(){this._popFromStack();clearInterval(this.active_hiding);if(this._obj){n.remove(this._obj);this._obj=null;this._shim&&this._shim.hide();this._shim=null;}this._clickOnEnterListener&&this._clickOnEnterListener.remove();if(this._close_handler)this._close_handler({return_data:this._return_data});},_handleButton:function(la){if(typeof la=='string')la=ka._findButton(this._buttons,la);var ma=ka.call_or_eval(la,la.handler);if(ma===false)return;if(la.name=='cancel'){this.cancel();}else if(ka.call_or_eval(this,this._handler,{button:la})!==false)this.hide();},_submitForm:function(la,ma,na){var oa=this.getFormData();if(na)oa[na.name]=na.label;if(this._extra_data)ba(oa,this._extra_data);var pa=new i().setURI(ma).setData(oa).setMethod(la).setNectarModuleDataSafe(this._causal_elem).setReadOnly(la=='GET');this.setAsync(pa);return false;},_setFromModel:function(la){var ma={};ba(ma,la);for(var na in ma){if(na=='onloadRegister'){this.onloadRegister(ma[na]);continue;}var oa=this['set'+na.substr(0,1).toUpperCase()+na.substr(1)];oa.apply(this,ca(ma[na]));}},_updateBottom:function(){var la=z.getElementDimensions(this._content).y+z.getElementPosition(this._content).y;ka._bottoms[ka._bottoms.length-1]=la;ka._updateMaxBottom();},_pushOntoStack:function(){var la=ka._stack;if(!la.length)h.inform('layer_shown',{type:'Dialog'});ga(la,this);la.push(this);for(var ma=la.length-2;ma>=0;ma--){var na=la[ma];if(!na._is_stackable&&!na._async_request){na._hide();}else if(!na._shown_while_stacked)na._hide(true);}},_popFromStack:function(){var la=ka._stack,ma=(la[la.length-1]===this);ga(la,this);if(la.length){if(ma)la[la.length-1].show();}else h.inform('layer_hidden',{type:'Dialog'});}});e.exports=ka;a.Dialog=ka;});
__d("legacy:dialog",["Dialog"],function(a,b,c,d){var e=b('Dialog');a.Dialog=e;},3);
__d("FlipDirectionOnKeypress",["Event","DOM","Input","Style"],function(a,b,c,d,e,f){var g=b('Event'),h=b('DOM'),i=b('Input'),j=b('Style');g.listen(document.documentElement,'keyup',function(event){var k=event.getTarget();if(!h.isNodeOfType(k,['input','textarea']))return;if(h.isNodeOfType(k,'input')&&k.type=='password')return;if(k.getAttribute('data-prevent-auto-flip'))return;var l=i.getValue(k),m=(k.style&&k.style.direction);if(!m){var n=0,o=true;for(var p=0;p<l.length;p++){var q=l.charCodeAt(p);if(q>=48){if(o){o=false;n++;}if(q>=1470&&q<=1920){j.set(k,'direction','rtl');return;}if(n==5){j.set(k,'direction','ltr');return;}}else o=true;}}else if(l.length===0)j.set(k,'direction','');});});
__d("PlaceholderOnsubmitFormListener",["Event","Input"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Input');g.listen(document.documentElement,'submit',function(i){var j=i.getTarget().getElementsByTagName('*');for(var k=0;k<j.length;k++)if(j[k].getAttribute('placeholder')&&h.isEmpty(j[k]))h.setValue(j[k],'');});});
__d("RequiredFormListener",["Event","Input"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Input');g.listen(document.documentElement,'submit',function(i){var j=i.getTarget().getElementsByTagName('*');for(var k=0;k<j.length;k++)if(j[k].getAttribute('required')&&h.isEmpty(j[k])){j[k].focus();return false;}},g.Priority.URGENT);});
__d("ARIA",["DOM","emptyFunction","ge"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('emptyFunction'),i=b('ge'),j,k,l=function(){j=i('ariaAssertiveAlert');if(!j){j=g.create('div',{id:'ariaAssertiveAlert',className:'accessible_elem','aria-live':'assertive'});g.appendContent(document.body,j);}k=i('ariaPoliteAlert');if(!k){k=j.cloneNode(false);k.setAttribute('id','ariaPoliteAlert');k.setAttribute('aria-live','polite');g.appendContent(document.body,k);}l=h;};function m(o,p){l();var q=p?j:k;g.setContent(q,o);}var n={owns:function(o,p){o.setAttribute('aria-owns',g.getID(p));},setPopup:function(o,p){var q=g.getID(p);o.setAttribute('aria-owns',q);o.setAttribute('aria-haspopup','true');if(o.tabIndex==-1)o.tabIndex=0;},announce:function(o){m(o,true);},notify:function(o){m(o);}};e.exports=n;});
__d("BootloadedReact",["Bootloader"],function(a,b,c,d,e,f){var g=b('Bootloader'),h=function(j){g.loadModules(['React'],j);},i={isValidComponent:function(j){return (j&&typeof j.mountInContainerNode==='function'&&typeof j.receiveProps==='function');},initializeTouchEvents:function(j,k){h(function(l){l.initializeTouchEvents(j);k&&k();});},createClass:function(j,k){h(function(l){var m=l.createClass(j);k&&k(m);});},renderComponent:function(j,k,l){h(function(m){var n=m.renderComponent(j,k);l&&l(n);});},renderOrUpdateComponent:function(j,k,l){h(function(m){var n=m.renderOrUpdateComponent(j,k);l&&l(n);});},unmountAndReleaseReactRootNode:function(j,k){h(function(l){l.unmountAndReleaseReactRootNode(j);k&&k();});}};e.exports=i;});
__d("CSSClassTransition",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=[];function i(){}g(i,{go:function(j,k,l,m){var n;for(var o=0;o<h.length;o++)if(h[o](j,k,l,m)===true)n=true;if(!n)j.className=k;},registerHandler:function(j){h.push(j);return {remove:function(){var k=h.indexOf(j);if(k>=0)h.splice(k,1);}};}});e.exports=i;});
__d("BasicTypeaheadRenderer",["DOM"],function(a,b,c,d,e,f){var g=b('DOM');function h(i,j){var k=[];if(i.icon)k.push(g.create('img',{alt:'',src:i.icon}));if(i.text)k.push(g.create('span',{className:'text'},[i.text]));if(i.subtext)k.push(g.create('span',{className:'subtext'},[i.subtext]));var l=g.create('li',{className:i.type||''},k);if(i.text)l.setAttribute('aria-label',i.text);return l;}h.className='basic';e.exports=h;});
__d("TypeaheadView",["Event","ArbiterMixin","BasicTypeaheadRenderer","CSS","DOM","Parent","$","copyProperties","emptyFunction"],function(a,b,c,d,e,f){var g=b('Event'),h=b('ArbiterMixin'),i=b('BasicTypeaheadRenderer'),j=b('CSS'),k=b('DOM'),l=b('Parent'),m=b('$'),n=b('copyProperties'),o=b('emptyFunction');function p(q,r){this.element=this.content=m(q);n(this,r);}n(p.prototype,h,{events:['highlight','render','reset','select','beforeRender','next','prev'],renderer:i,autoSelect:false,ignoreMouseover:false,init:function(){this.init=o;this.initializeEvents();this.reset();},initializeEvents:function(){g.listen(this.element,{mouseup:this.mouseup.bind(this),mouseover:this.mouseover.bind(this)});},setTypeahead:function(q){this.typeahead=q;},setAccessibilityControlElement:function(q){this.accessibilityElement=q;},getElement:function(){return this.element;},mouseup:function(event){if(event.button!=2){this.select(true);event.kill();}},mouseover:function(event){if(this.ignoreMouseover){this.ignoreMouseover=false;return;}if(this.visible)this.highlight(this.getIndex(event));},reset:function(q){if(!q)this.disableAutoSelect=false;this.justRendered=false;this.justShown=false;this.index=-1;this.items=[];this.results=[];this.value='';this.content.innerHTML='';this.inform('reset');return this;},getIndex:function(event){return this.items.indexOf(l.byTag(event.getTarget(),'li'));},getSelection:function(){var q=this.results[this.index]||null;return this.visible?q:null;},isEmpty:function(){return !this.results.length;},isVisible:function(){return this.visible;},show:function(){j.show(this.element);if(this.results&&this.results.length)if(this.autoSelect&&this.accessibilityElement&&this.selected)this.accessibilityElement.setAttribute('aria-activedescendant',k.getID(this.selected));this.accessibilityElement&&this.accessibilityElement.setAttribute('aria-expanded','true');this.visible=true;return this;},hide:function(){j.hide(this.element);if(this.accessibilityElement){this.accessibilityElement.setAttribute('aria-expanded','false');this.accessibilityElement.removeAttribute('aria-activedescendant');}this.visible=false;return this;},render:function(q,r,s){this.value=q;if(!r.length){this.accessibilityElement&&this.accessibilityElement.removeAttribute('aria-activedescendant');this.reset(true);return;}this.justRendered=true;if(!this.results.length)this.justShown=true;var t={results:r,value:q};this.inform('beforeRender',t);r=t.results;var u=this.getDefaultIndex(r);if(this.index>0&&this.index!==this.getDefaultIndex(this.results)){var v=this.results[this.index];for(var w=0,x=r.length;w<x;++w)if(v.uid==r[w].uid){u=w;break;}}this.results=r;k.setContent(this.content,this.buildResults(r));this.items=this.getItems();this.highlight(u,false);this.inform('render',r);},getItems:function(){return k.scry(this.content,'li');},buildResults:function(q){var r,s=null;if(typeof this.renderer=='function'){r=this.renderer;s=this.renderer.className||'';}else{r=a.TypeaheadRenderers[this.renderer];s=this.renderer;}r=r.bind(this);var t=q.map(function(v,w){var x=v.node||r(v,w);x.setAttribute('role','option');return x;}),u=k.create('ul',{className:s,id:'typeahead_list_'+(this.typeahead?k.getID(this.typeahead):k.getID(this.element))},t);u.setAttribute('role','listbox');return u;},getDefaultIndex:function(q){var r=(this.autoSelect&&!this.disableAutoSelect);return this.index<0&&!r?-1:0;},next:function(){this.highlight(this.index+1);this.inform('next',this.selected);},prev:function(){this.highlight(this.index-1);this.inform('prev',this.selected);},getItemText:function(q){var r='';if(q){r=q.getAttribute('aria-label');if(!r){r=k.getText(q);q.setAttribute('aria-label',r);}}return r;},setIsViewingSelectedItems:function(q){this.viewingSelected=q;return this;},getIsViewingSelectedItems:function(){return this.viewingSelected;},highlight:function(q,r){var s=true;if(this.selected){j.removeClass(this.selected,'selected');this.selected.setAttribute('aria-selected','false');}if(q>this.items.length-1){q=-1;}else if(q<-1)q=this.items.length-1;if(q>=0&&q<this.items.length){if(this.selected&&this.getItemText(this.items[q])===this.getItemText(this.selected))s=false;this.selected=this.items[q];j.addClass(this.selected,'selected');this.selected.setAttribute('aria-selected','true');if(this.accessibilityElement)(function(){this.accessibilityElement.setAttribute('aria-activedescendant',k.getID(this.selected));}).bind(this).defer();}else this.accessibilityElement&&this.accessibilityElement.removeAttribute('aria-activedescendant');this.index=q;this.disableAutoSelect=(q==-1);var t=(q!==-1),u=this.getItemText(this.selected);if(q!==-1&&this.isVisible()&&u&&this.autoSelect)if(this.justShown){this.justRendered=false;this.justShown=false;t=false;}else if(s&&this.justRendered){this.justRendered=false;t=false;}if(r!==false)this.inform('highlight',{index:q,selected:this.results[q],element:this.selected});},select:function(q){var r=this.index,s=this.results[r],t=this.element.getAttribute('id');if(s){this.inform('select',{index:r,clicked:!!q,selected:s,id:t});this.inform('afterSelect');}}});e.exports=p;});
__d("BucketedTypeaheadView",["Class","DOM","tx","TypeaheadView","copyProperties"],function(a,b,c,d,e,f){var g=b('Class'),h=b('DOM'),i=b('tx'),j=b('TypeaheadView'),k=b('copyProperties');function l(m,n){this.parent.construct(this,m,n);}g.extend(l,j);k(l.prototype,{render:function(m,n,o){n=this.buildBuckets(m,n);return this.parent.render(m,n,o);},highlight:function(m,n){if(m==-1&&this.index!==0)m=this.index;while(m>=0&&m<this.items.length&&!this.isHighlightable(this.results[m]))m=m+1;this.parent.highlight(m,n);},buildBuckets:function(m,n){if(!this.typeObjects||!n||!n.length)return n;var o=[],p={};for(var q=0;q<n.length;++q){var r=n[q],s=r.render_type||r.type;if(!p.hasOwnProperty(s)){p[s]=o.length;o.push([this.buildBucketHeader(s)]);}r.classNames=s;r.groupIndex=p[s];r.indexInGroup=o[r.groupIndex].length-1;o[r.groupIndex].push(r);}for(s in this.typeObjects)if(!p.hasOwnProperty(s)&&this.typeObjects[s].show_always){p[s]=o.length;o.push([this.buildBucketHeader(s)]);r=this.buildNoResultsEntry();r.classNames=r.type;r.groupIndex=p[s];r.indexInGroup=o[r.groupIndex].length-1;o[r.groupIndex].push(r);}var t=[];if(this.typeObjectsOrder){for(var u=0;u<this.typeObjectsOrder.length;++u){var v=this.typeObjectsOrder[u];if(p.hasOwnProperty(v))t=t.concat(o[p[v]]);}}else for(var w=0;w<o.length;++w)t=t.concat(o[w]);return t;},buildNoResultsEntry:function(){return {uid:'disabled_result',type:'disabled_result',text:"Nessun risultato"};},buildBucketHeader:function(m){var n=this.typeObjects[m];if(n.markup){n.text=n.markup;delete n.markup;}return this.typeObjects[m];},buildResults:function(m){var n=this.parent.buildResults(m);if(this.typeObjects){return h.create('div',{className:'bucketed'},[n]);}else return n;},isHighlightable:function(m){return m.type!='header'&&m.type!='disabled_result';},select:function(m){var n=this.results[this.index];if(n&&this.isHighlightable(n))this.parent.select(m);},normalizeIndex:function(m){var n=this.results.length;if(n===0){return -1;}else if(m<-1){return (m%n)+n+1;}else if(m>=n){return (m%n)-1;}else return m;},getDefaultIndex:function(m){var n=(this.autoSelect&&!this.disableAutoSelect);if(this.index<0&&!n)return -1;if(m.length===0)return -1;var o=0;while(!this.isHighlightable(m)&&o<m.length)o++;return o;},prev:function(){var m=this.results[this.normalizeIndex(this.index-1)];while(m&&!this.isHighlightable(m)){this.index=this.normalizeIndex(this.index-1);m=this.results[this.normalizeIndex(this.index-1)];}return this.parent.prev();},next:function(){var m=this.results[this.normalizeIndex(this.index+1)];while(m&&!this.isHighlightable(m)){this.index=this.normalizeIndex(this.index+1);m=this.results[this.normalizeIndex(this.index+1)];}return this.parent.next();}});e.exports=l;});
__d("KeyEventController",["DOM","Event","Run","copyProperties","isEmpty"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('Event'),i=b('Run'),j=b('copyProperties'),k=b('isEmpty');function l(){this.handlers={};document.onkeyup=this.onkeyevent.bind(this,'onkeyup');document.onkeydown=this.onkeyevent.bind(this,'onkeydown');document.onkeypress=this.onkeyevent.bind(this,'onkeypress');}j(l,{instance:null,getInstance:function(){return l.instance||(l.instance=new l());},defaultFilter:function(event,m){event=h.$E(event);return l.filterEventTypes(event,m)&&l.filterEventTargets(event,m)&&l.filterEventModifiers(event,m);},filterEventTypes:function(event,m){if(m==='onkeydown')return true;return false;},filterEventTargets:function(event,m){var n=event.getTarget(),o=n.contentEditable==='true';return (!(o||g.isNodeOfType(n,l._interactiveElements))||n.type in l._uninterestingTypes||(event.keyCode in l._controlKeys&&((g.isNodeOfType(n,['input','textarea'])&&n.value.length===0)||(o&&g.getText(n).length===0))));},filterEventModifiers:function(event,m){if(event.ctrlKey||event.altKey||event.metaKey||event.repeat)return false;return true;},registerKey:function(m,n,o,p){if(o===undefined)o=l.defaultFilter;var q=l.getInstance(),r=q.mapKey(m);if(k(q.handlers))i.onLeave(q.resetHandlers.bind(q));var s={};for(var t=0;t<r.length;t++){m=r[t];if(!q.handlers[m]||p)q.handlers[m]=[];var u={callback:n,filter:o};s[m]=u;q.handlers[m].push(u);}return {remove:function(){for(var v in s){if(q.handlers[v]&&q.handlers[v].length){var w=q.handlers[v].indexOf(s[v]);w>=0&&q.handlers[v].splice(w,1);}delete s[v];}}};},keyCodeMap:{BACKSPACE:[8],TAB:[9],RETURN:[13],ESCAPE:[27],LEFT:[37,63234],UP:[38,63232],RIGHT:[39,63235],DOWN:[40,63233],DELETE:[46],COMMA:[188],PERIOD:[190],SLASH:[191],'`':[192],'[':[219],']':[221]},_interactiveElements:['input','select','textarea','object','embed'],_uninterestingTypes:{button:1,checkbox:1,radio:1,submit:1},_controlKeys:{8:1,9:1,13:1,27:1,37:1,63234:1,38:1,63232:1,39:1,63235:1,40:1,63233:1,46:1}});j(l.prototype,{mapKey:function(m){if(m>=0&&m<=9){if(typeof(m)!='number')m=m.charCodeAt(0)-48;return [48+m,96+m];}var n=l.keyCodeMap[m.toUpperCase()];if(n)return n;return [m.toUpperCase().charCodeAt(0)];},onkeyevent:function(m,n){n=h.$E(n);var o=this.handlers[n.keyCode]||this.handlers[n.which],p,q,r;if(o)for(var s=0;s<o.length;s++){p=o[s].callback;q=o[s].filter;try{if(!q||q(n,m)){r=p(n,m);if(r===false)return h.kill(n);}}catch(t){}}return true;},resetHandlers:function(){this.handlers={};}});e.exports=l;});
__d("Layer",["Event","function-extensions","ArbiterMixin","BehaviorsMixin","BootloadedReact","ContextualThing","CSS","DataStore","DOM","HTML","KeyEventController","Parent","Style","copyProperties","ge","removeFromArray"],function(a,b,c,d,e,f){var g=b('Event');b('function-extensions');var h=b('ArbiterMixin'),i=b('BehaviorsMixin'),j=b('BootloadedReact'),k=b('ContextualThing'),l=b('CSS'),m=b('DataStore'),n=b('DOM'),o=b('HTML'),p=b('KeyEventController'),q=b('Parent'),r=b('Style'),s=b('copyProperties'),t=b('ge'),u=b('removeFromArray'),v=[];function w(x,y){this._config=x||{};if(y){this._configure(this._config,y);var z=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(z));}}s(w,h);s(w,{init:function(x,y){x.init(y);},initAndShow:function(x,y){x.init(y).show();},show:function(x){x.show();},getTopmostLayer:function(){return v[v.length-1];}});s(w.prototype,h,i,{_initialized:false,_root:null,_shown:false,_hiding:false,_causalElement:null,_reactContainer:null,init:function(x){this._configure(this._config,x);var y=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(y));this._initialized=true;return this;},_configure:function(x,y){if(y){var z=n.isNode(y),aa=typeof y==='string'||o.isHTML(y);this.containsReactComponent=j.isValidComponent(y);if(aa){y=o(y).getRootNode();}else if(this.containsReactComponent){var ba=document.createElement('div');j.renderComponent(y,ba);y=this._reactContainer=ba;}}this._root=this._buildWrapper(x,y);if(x.attributes)n.setAttributes(this._root,x.attributes);if(x.classNames)x.classNames.forEach(l.addClass.curry(this._root));l.addClass(this._root,'uiLayer');if(x.causalElement)this._causalElement=t(x.causalElement);if(x.permanent)this._permanent=x.permanent;m.set(this._root,'layer',this);},_getDefaultBehaviors:function(){return [];},getCausalElement:function(){return this._causalElement;},setCausalElement:function(x){this._causalElement=x;return this;},getInsertParent:function(){return this._insertParent||document.body;},getRoot:function(){return this._root;},getContentRoot:function(){return this._root;},_buildWrapper:function(x,y){return y;},setInsertParent:function(x){if(x){if(this._shown&&x!==this.getInsertParent()){n.appendContent(x,this.getRoot());this.updatePosition();}this._insertParent=x;}return this;},show:function(){if(this._shown)return this;var x=this.getRoot();this.inform('beforeshow');r.set(x,'visibility','hidden');r.set(x,'overflow','hidden');l.show(x);n.appendContent(this.getInsertParent(),x);if(this.updatePosition()!==false){this._shown=true;this.inform('show');w.inform('show',this);if(!this._permanent)!function(){if(this._shown)v.push(this);}.bind(this).defer();}else l.hide(x);r.set(x,'visibility','');r.set(x,'overflow','');this.inform('aftershow');return this;},hide:function(){if(this._hiding||!this._shown||this.inform('beforehide')===false)return this;this._hiding=true;if(this.inform('starthide')!==false)this.finishHide();return this;},conditionShow:function(x){return x?this.show():this.hide();},finishHide:function(){if(this._shown){if(!this._permanent)u(v,this);this._hiding=false;this._shown=false;l.hide(this.getRoot());this.inform('hide');w.inform('hide',this);}},isShown:function(){return this._shown;},updatePosition:function(){return true;},destroy:function(){if(this.containsReactComponent)j.unmountAndReleaseReactRootNode(this._reactContainer);this.finishHide();var x=this.getRoot();n.remove(x);this.destroyBehaviors();this.inform('destroy');w.inform('destroy',this);m.remove(x,'layer');this._root=this._causalElement=null;}});g.listen(document.documentElement,'keydown',function(event){if(p.filterEventTargets(event,'keydown'))for(var x=v.length-1;x>=0;x--)if(v[x].inform('key',event)===false)return false;},g.Priority.URGENT);g.listen(document.documentElement,'click',function(event){var x=v.length;if(!x)return;var y=event.getTarget();if(!n.contains(document.documentElement,y))return;if(q.byClass(y,'generic_dialog'))return;while(x--){var z=v[x],aa=z.getContentRoot();if(k.containsIncludingLayers(aa,y))return;if(z.inform('blur')===false||z.isShown())return;}});e.exports=w;});
__d("DOMScroll",["Animation","Arbiter","DOM","DOMQuery","Vector","ViewportBounds","ge","isAsyncScrollQuery"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Arbiter'),i=b('DOM'),j=b('DOMQuery'),k=b('Vector'),l=b('ViewportBounds'),m=b('ge'),n=b('isAsyncScrollQuery'),o={SCROLL:'dom-scroll',getScrollState:function(){var p=k.getViewportDimensions(),q=k.getDocumentDimensions(),r=(q.x>p.x),s=(q.y>p.y);r+=0;s+=0;return new k(r,s);},_scrollbarSize:null,_initScrollbarSize:function(){var p=i.create('p');p.style.width='100%';p.style.height='200px';var q=i.create('div');q.style.position='absolute';q.style.top='0px';q.style.left='0px';q.style.visibility='hidden';q.style.width='200px';q.style.height='150px';q.style.overflow='hidden';q.appendChild(p);document.body.appendChild(q);var r=p.offsetWidth;q.style.overflow='scroll';var s=p.offsetWidth;if(r==s)s=q.clientWidth;document.body.removeChild(q);o._scrollbarSize=r-s;},getScrollbarSize:function(){if(o._scrollbarSize===null)o._initScrollbarSize();return o._scrollbarSize;},scrollTo:function(p,q,r,s,t){if(typeof q=='undefined'||q===true)q=750;if(n())q=false;if(!(p instanceof k)){var u=k.getScrollPosition().x,v=k.getElementPosition(m(p)).y;p=new k(u,v,'document');if(!s)p.y-=l.getTop()/(r?2:1);}if(r){p.y-=k.getViewportDimensions().y/2;}else if(s){p.y-=k.getViewportDimensions().y;p.y+=s;}p=p.convertTo('document');if(q){return new g(document.body).to('scrollTop',p.y).to('scrollLeft',p.x).ease(g.ease.end).duration(q).ondone(t).go();}else if(window.scrollTo){window.scrollTo(p.x,p.y);t&&t();}h.inform(o.SCROLL);},ensureVisible:function(p,q,r,s,t){if(r===undefined)r=10;p=m(p);if(q)p=j.find(p,q);var u=k.getScrollPosition().x,v=k.getScrollPosition().y,w=v+k.getViewportDimensions().y,x=k.getElementPosition(p).y,y=x+k.getElementDimensions(p).y;x-=l.getTop();x-=r;y+=r;if(x<v){o.scrollTo(new k(u,x,'document'),s,false,false,t);}else if(y>w)if(x-(y-w)<v){o.scrollTo(new k(u,x,'document'),s,false,false,t);}else o.scrollTo(new k(u,y,'document'),s,false,true,t);},scrollToTop:function(p){var q=k.getScrollPosition();o.scrollTo(new k(q.x,0,'document'),p!==false);}};e.exports=o;});
__d("HistoryManager",["Event","function-extensions","Cookie","Env","URI","UserAgent","copyProperties","emptyFunction","goOrReplace"],function(a,b,c,d,e,f){var g=b('Event');b('function-extensions');var h=b('Cookie'),i=b('Env'),j=b('URI'),k=b('UserAgent'),l=b('copyProperties'),m=b('emptyFunction'),n=b('goOrReplace'),o={_IFRAME_BASE_URI:'http://static.ak.facebook.com/common/history_manager.php',history:null,current:0,fragment:null,_setIframeSrcFragment:function(p){p=p.toString();var q=o.history.length-1;o.iframe.src=o._IFRAME_BASE_URI+'?|index='+q+'#'+encodeURIComponent(p);return o;},getIframeSrcFragment:function(){return decodeURIComponent(j(o.iframe.contentWindow.document.location.href).getFragment());},nextframe:function(p,q){if(q){o._setIframeSrcFragment(p);return;}if(p!==undefined){o.iframeQueue.push(p);}else{o.iframeQueue.splice(0,1);o.iframeTimeout=null;o.checkURI();}if(o.iframeQueue.length&&!o.iframeTimeout){var r=o.iframeQueue[0];o.iframeTimeout=setTimeout(function(){o._setIframeSrcFragment(r);},100,false);}},isInitialized:function(){return !!o._initialized;},init:function(){if(!i.ALLOW_TRANSITION_IN_IFRAME&&window!=window.top)return;if(o._initialized)return o;var p=j(),q=p.getFragment()||'';if(q.charAt(0)==='!'){q=q.substr(1);p.setFragment(q);}if(j.getRequestURI(false).getProtocol().toLowerCase()=='https')o._IFRAME_BASE_URI='https://s-static.ak.facebook.com/common/history_manager.php';l(o,{_initialized:true,fragment:q,orig_fragment:q,history:[p],callbacks:[],lastChanged:Date.now(),canonical:j('#'),fragmentTimeout:null,user:0,iframeTimeout:null,iframeQueue:[],enabled:true,debug:m});if(window.history&&history.pushState){this.lastURI=document.URL;window.history.replaceState(this.lastURI,null);g.listen(window,'popstate',function(r){if(r&&r.state&&o.lastURI!=r.state){o.lastURI=r.state;o.lastChanged=Date.now();o.notify(j(r.state).getUnqualifiedURI().toString());}}.bind(o));if(k.webkit()<534||k.chrome()<=13){setInterval(o.checkURI,42,false);o._updateRefererURI(this.lastURI);}return o;}o._updateRefererURI(j.getRequestURI(false));if(k.webkit()<500||k.firefox()<2){o.enabled=false;return o;}if(k.ie()<8){o.iframe=document.createElement('iframe');l(o.iframe.style,{width:'0',height:'0',frameborder:'0',left:'0',top:'0',position:'absolute'});o._setIframeSrcFragment(q);document.body.insertBefore(o.iframe,document.body.firstChild);}else if('onhashchange' in window){g.listen(window,'hashchange',function(){o.checkURI.bind(o).defer();});}else setInterval(o.checkURI,42,false);return o;},registerURIHandler:function(p){o.callbacks.push(p);return o;},setCanonicalLocation:function(p){o.canonical=j(p);return o;},notify:function(p){if(p==o.orig_fragment)p=o.canonical.getFragment();for(var q=0;q<o.callbacks.length;q++)try{if(o.callbacks[q](p))return true;}catch(r){}return false;},checkURI:function(){if(Date.now()-o.lastChanged<400)return;if(window.history&&history.pushState){var p=j(document.URL).removeQueryData('ref').toString(),q=j(o.lastURI).removeQueryData('ref').toString();if(p!=q){o.lastChanged=Date.now();o.lastURI=p;if(k.webkit()<534)o._updateRefererURI(p);o.notify(j(p).getUnqualifiedURI().toString());}return;}if(k.ie()<8&&o.iframeQueue.length)return;if(k.webkit()&&window.history.length==200){if(!o.warned)o.warned=true;return;}var r=j().getFragment();if(r.charAt(0)=='!')r=r.substr(1);if(k.ie()<8)r=o.getIframeSrcFragment();r=r.replace(/%23/g,'#');if(r!=o.fragment.replace(/%23/g,'#')){o.debug([r,' vs ',o.fragment,'whl: ',window.history.length,'QHL: ',o.history.length].join(' '));for(var s=o.history.length-1;s>=0;--s)if(o.history[s].getFragment().replace(/%23/g,'#')==r)break;++o.user;if(s>=0){o.go(s-o.current);}else o.go('#'+r);--o.user;}},_updateRefererURI:function(p){p=p.toString();if(p.charAt(0)!='/'&&p.indexOf('//')==-1)return;var q=new j(window.location);if(q.isFacebookURI()){var r=q.getPath()+window.location.search;}else var r='';var s=j(p).getQualifiedURI().setFragment(r).toString(),t=2048;if(s.length>t)s=s.substring(0,t)+'...';h.set('x-referer',s);},go:function(p,q,r){if(window.history&&history.pushState){q||typeof(p)=='number';var s=j(p).removeQueryData('ref').toString();o.lastChanged=Date.now();this.lastURI=s;if(r){window.history.replaceState(p,null,s);}else window.history.pushState(p,null,s);if(k.webkit()<534)o._updateRefererURI(p);return false;}o.debug('go: '+p);if(q===undefined)q=true;if(!o.enabled)if(!q)return false;if(typeof(p)=='number'){if(!p)return false;var t=p+o.current,u=Math.max(0,Math.min(o.history.length-1,t));o.current=u;t=o.history[u].getFragment()||o.orig_fragment;t=j(t).removeQueryData('ref').getUnqualifiedURI().toString();o.fragment=t;o.lastChanged=Date.now();if(k.ie()<8){if(o.fragmentTimeout)clearTimeout(o.fragmentTimeout);o._temporary_fragment=t;o.fragmentTimeout=setTimeout(function(){window.location.hash='#!'+t;delete o._temporary_fragment;},750,false);if(!o.user)o.nextframe(t,r);}else if(!o.user)n(window.location,window.location.href.split('#')[0]+'#!'+t,r);if(q)o.notify(t);o._updateRefererURI(t);return false;}p=j(p);if(p.getDomain()==j().getDomain())p=j('#'+p.getUnqualifiedURI());var v=o.history[o.current].getFragment(),w=p.getFragment();if(w==v||(v==o.orig_fragment&&w==o.canonical.getFragment())){if(q)o.notify(w);o._updateRefererURI(w);return false;}if(r)o.current--;var x=(o.history.length-o.current)-1;o.history.splice(o.current+1,x);o.history.push(j(p));return o.go(1,q,r);},getCurrentFragment:function(){var p=o._temporary_fragment!==undefined?o._temporary_fragment:j.getRequestURI(false).getFragment();return p==o.orig_fragment?o.canonical.getFragment():p;}};e.exports=o;});
__d("LinkController",["Event","DataStore","Parent","trackReferrer"],function(a,b,c,d,e,f){var g=b('Event'),h=b('DataStore'),i=b('Parent'),j=b('trackReferrer'),k='LinkControllerHandler',l=[],m=[];function n(event){var r=i.byTag(event.getTarget(),'a'),s=r&&r.getAttribute('href',2);if(!s||r.rel||!p(s)||h.get(r,k))return;var t=g.listen(r,'click',function(u){if(s.charAt(s.length-1)=='#'){u.prevent();return;}j(r,s);o(r,u);});h.set(r,k,t);}function o(r,event){if(r.target||r.rel||event.getModifiers().any||(event.which&&event.which!=1))return;var s=l.concat(m);for(var t=0,u=s.length;t<u;t++)if(s[t](r,event)===false)return event.prevent();}function p(r){var s=r.match(/^(\w+):/);return !s||s[1].match(/^http/i);}var q={registerHandler:function(r){l.push(r);},registerFallbackHandler:function(r){m.push(r);}};g.listen(document.documentElement,'mousedown',n);g.listen(document.documentElement,'keydown',n);e.exports=q;});
__d("areEqual",[],function(a,b,c,d,e,f){var g=function(k,l,m,n){if(k===l)return k!==0||1/k==1/l;if(k==null||l==null)return false;if(typeof k!='object'||typeof l!='object')return false;var o=Object.prototype.toString,p=o.call(k);if(p!=o.call(l))return false;switch(p){case '[object String]':return k==String(l);case '[object Number]':return isNaN(k)||isNaN(l)?false:k==Number(l);case '[object Date]':case '[object Boolean]':return +k==+l;case '[object RegExp]':return k.source==l.source&&k.global==l.global&&k.multiline==l.multiline&&k.ignoreCase==l.ignoreCase;}var q=m.length;while(q--)if(m[q]==k)return n[q]==l;m.push(k);n.push(l);var r=0;if(p==='[object Array]'){r=k.length;if(r!==l.length)return false;while(r--)if(!g(k[r],l[r],m,n))return false;}else{if(k.constructor!==l.constructor)return false;if(k.hasOwnProperty('valueOf')&&l.hasOwnProperty('valueOf'))return k.valueOf()==l.valueOf();var s=Object.keys(k);if(s.length!=Object.keys(l).length)return false;for(var t=0;t<s.length;t++)if(!g(k[s[t]],l[s[t]],m,n))return false;}m.pop();n.pop();return true;},h=[],i=[],j=function(k,l){var m=h.length?h.pop():[],n=i.length?i.pop():[],o=g(k,l,m,n);m.length=0;n.length=0;h.push(m);i.push(n);return o;};e.exports=j;});
__d("computeRelativeURI",["URI","isEmpty"],function(a,b,c,d,e,f){var g=b('URI'),h=b('isEmpty');function i(k,l){if(!l)return k;if(l.charAt(0)=='/')return l;var m=k.split('/').slice(0,-1);m[0]!=='';l.split('/').forEach(function(n){if(!(n=='.'))if(n=='..'){if(m.length>1)m=m.slice(0,-1);}else m.push(n);});return m.join('/');}function j(k,l){var m=new g(),n=l;k=new g(k);l=new g(l);if(l.getDomain()&&!l.isFacebookURI())return n;var o=k,p=['Protocol','Domain','Port','Path','QueryData','Fragment'];p.forEach(function(q){var r=q=='Path'&&o===k;if(r)m.setPath(i(k.getPath(),l.getPath()));if(!h(l['get'+q]()))o=l;if(!r)m['set'+q](o['get'+q]());});return m;}e.exports=j;});
__d("escapeJSQuotes",[],function(a,b,c,d,e,f){function g(h){if(typeof h=='undefined'||h==null||!h.valueOf())return '';return h.toString().replace(/\\/g,'\\\\').replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/"/g,'\\x22').replace(/'/g,'\\\'').replace(/</g,'\\x3c').replace(/>/g,'\\x3e').replace(/&/g,'\\x26');}e.exports=g;});
__d("PageTransitions",["Arbiter","Dialog","DOMQuery","DOMScroll","Env","Event","Form","HistoryManager","JSLogger","LinkController","OnloadHooks","Parent","URI","UserAgent","Vector","areEqual","clickRefAction","computeRelativeURI","copyProperties","escapeJSQuotes","ge","goOrReplace","htmlize","setTimeoutAcrossTransitions","startsWith","tx","userAction"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Dialog'),i=b('DOMQuery'),j=b('DOMScroll'),k=b('Env'),l=b('Event'),m=b('Form'),n=b('HistoryManager'),o=b('JSLogger'),p=b('LinkController'),q=b('OnloadHooks'),r=b('Parent'),s=b('URI'),t=b('UserAgent'),u=b('Vector'),v=b('areEqual'),w=b('clickRefAction'),x=b('computeRelativeURI'),y=b('copyProperties'),z=b('escapeJSQuotes'),aa=b('ge'),ba=b('goOrReplace'),ca=b('htmlize'),da=b('setTimeoutAcrossTransitions'),ea=b('startsWith'),fa=b('tx'),ga=b('userAction'),ha={};function ia(ta,ua){ha[ta.getUnqualifiedURI()]=ua;}function ja(ta){return ha[ta.getUnqualifiedURI()];}function ka(ta){delete ha[ta.getUnqualifiedURI()];}var la=null,ma=null;function na(ta){ma=ta;da(function(){ma=null;},0);}function oa(event){if(ma){if(!event.isDefaultPrevented()){pa(ma);sa.lookBusy(ma);ra.go(ma.getAttribute('href'));}event.prevent();}else{la=event.getTarget();da(function(){la=null;},0);}}function pa(ta){var ua=ta.getAttribute('href'),va=x(ra._most_recent_uri.getQualifiedURI(),ua).toString();if(ua!=va)ta.setAttribute('href',va);}function qa(event){var ta=event.getTarget();if(m.getAttribute(ta,'rel')||m.getAttribute(ta,'target'))return;w('form',ta,event).set_namespace('page_transition');var ua=ga('page_transitions',ta,event,{mode:'DEDUP'}).uai_fallback(null,'form'),va=a.ArbiterMonitor;if(va)va.initUA(ua,[ta]);var wa=new s(m.getAttribute(ta,'action')||''),xa=x(ra._most_recent_uri,wa);ta.setAttribute('action',xa.toString());if((m.getAttribute(ta,'method')||'GET').toUpperCase()==='GET'){var ya=m.serialize(ta),za=la;if(za&&(i.isNodeOfType(za,'input')&&za.type==='submit'||(za=r.byTag(za,'button')))&&za.name)ya[za.name]=za.value;ra.go(xa.addQueryData(ya));event.kill();}}var ra={_transition_handlers:[],_scroll_locked:false,isInitialized:function(){return !!ra._initialized;},_init:function(){if(!k.ALLOW_TRANSITION_IN_IFRAME&&window!=window.top)return;if(ra._initialized)return ra;ra._initialized=true;var ta=s.getRequestURI(false),ua=ta.getUnqualifiedURI(),va=s(ua).setFragment(null),wa=ua.getFragment();if(wa.charAt(0)==='!'&&va.toString()===wa.substr(1))ua=va;y(ra,{_current_uri:ua,_most_recent_uri:ua,_next_uri:ua});var xa;if(ea(ta.getFragment(),'/')){xa=ta.getFragment();}else xa=ua;n.init().setCanonicalLocation('#'+xa).registerURIHandler(ra._historyManagerHandler);p.registerFallbackHandler(na);l.listen(document.documentElement,{click:oa,submit:qa});l.listen(window,'scroll',function(){if(!ra._scroll_locked)ia(ra._current_uri,u.getScrollPosition());});return ra;},registerHandler:function(ta,ua){ra._init();ua=ua||5;if(!ra._transition_handlers[ua])ra._transition_handlers[ua]=[];ra._transition_handlers[ua].push(ta);},getCurrentURI:function(ta){if(!ra._current_uri&&!ta)return new s(ra._most_recent_uri);return new s(ra._current_uri);},getMostRecentURI:function(){return new s(ra._most_recent_uri);},getNextURI:function(){return new s(ra._next_uri);},go:function(ta,ua){var va=new s(ta).removeQueryData('quickling').getQualifiedURI();o.create('pagetransition').debug('go',{uri:va.toString()});ka(va);!ua&&w('uri',{href:va.toString()},null,'INDIRECT');sa.lookBusy();ra._loadPage(va,function(wa){if(wa){n.go(va.toString(),false,ua);}else ba(window.location,va,ua);});},_historyManagerHandler:function(ta){if(ta.charAt(0)!='/')return false;w('h',{href:ta});ga('page_transitions').uai(null,'history_manager');ra._loadPage(new s(ta),function(ua){if(!ua)ba(window.location,ta,true);});return true;},_loadPage:function(ta,ua){if(s(ta).getFragment()&&v(s(ta).setFragment(null).getQualifiedURI(),s(ra._current_uri).setFragment(null).getQualifiedURI()))if(ra.restoreScrollPosition(ta)){ra._current_uri=ra._most_recent_uri=ta;sa.stopLookingBusy();return;}var va;if(ra._current_uri)va=ja(ra._current_uri);ra._current_uri=null;ra._next_uri=ta;if(va)j.scrollTo(va,false);var wa=function(){ra._scroll_locked=true;var ya=ra._handleTransition(ta);ua&&ua(ya);},xa=q.runHooks('onbeforeleavehooks');if(xa){sa.stopLookingBusy();ra._warnBeforeLeaving(xa,wa);}else wa();},_handleTransition:function(ta){window.onbeforeleavehooks=undefined;sa.lookBusy();if(!ta.isSameOrigin())return false;var ua=window.AsyncRequest&&window.AsyncRequest.getLastID();g.inform("pre_page_transition",{from:ra.getMostRecentURI(),to:ta});for(var va=ra._transition_handlers.length-1;va>=0;--va){var wa=ra._transition_handlers[va];if(!wa)continue;for(var xa=wa.length-1;xa>=0;--xa)if(wa[xa](ta)===true){var ya={sender:this,uri:ta,id:ua};try{g.inform("page_transition",ya);}catch(za){}return true;}else wa.splice(xa,1);}return false;},unifyURI:function(){ra._current_uri=ra._most_recent_uri=ra._next_uri;},transitionComplete:function(ta){ra._executeCompletionCallback();sa.stopLookingBusy();ra.unifyURI();if(!ta)ra.restoreScrollPosition(ra._current_uri);try{if(document.activeElement&&document.activeElement.nodeName==='A')document.activeElement.blur();}catch(ua){}},_executeCompletionCallback:function(){if(ra._completionCallback)ra._completionCallback();ra._completionCallback=null;},setCompletionCallback:function(ta){ra._completionCallback=ta;},rewriteCurrentURI:function(ta,ua){ra.registerHandler(function(){if(ta==ra.getMostRecentURI().getUnqualifiedURI().toString()){ra.transitionComplete();return true;}});ra.go(ua,true);},_warnBeforeLeaving:function(ta,ua){new h().setTitle("Vuoi lasciare questa pagina?").setBody(ca(ta)).setButtons([{name:'leave_page',label:"Lascia questa pagina",handler:ua},{name:'continue_editing',label:"Rimani su questa pagina",className:'inputaux'}]).setModal(true).show();},restoreScrollPosition:function(ta){ra._scroll_locked=false;var ua=ja(ta);if(ua){j.scrollTo(ua,false);return true;}function va(ya){if(!ya)return null;var za="a[name='"+z(ya)+"']";return i.scry(document.body,za)[0]||aa(ya);}var wa=va(s(ta).getFragment());if(wa){var xa=u.getElementPosition(wa);xa.x=0;j.scrollTo(xa);return true;}return false;}},sa=window._BusyUIManager||{_looking_busy:false,_original_cursors:[],lookBusy:function(ta){if(ta)sa._giveProgressCursor(ta);if(sa._looking_busy)return;sa._looking_busy=true;sa._giveProgressCursor(document.documentElement);},stopLookingBusy:function(){if(!sa._looking_busy)return;sa._looking_busy=false;while(sa._original_cursors.length){var ta=sa._original_cursors.pop(),ua=ta[0],va=ta[1];if(ua.style)ua.style.cursor=va||'';}},_giveProgressCursor:function(ta){if(!t.webkit()){sa._original_cursors.push([ta,ta.style.cursor]);ta.style.cursor='progress';}}};e.exports=ra;a.PageTransitions=ra;});
__d("LayerHideOnTransition",["function-extensions","PageTransitions","copyProperties"],function(a,b,c,d,e,f){b('function-extensions');var g=b('PageTransitions'),h=b('copyProperties');function i(j){this._layer=j;}h(i.prototype,{_enabled:false,_subscribed:false,enable:function(){this._enabled=true;if(!this._subscribed){this._subscribe.bind(this).defer();this._subscribed=true;}},disable:function(){this._enabled=false;},_subscribe:function(){g.registerHandler(function(){if(this._enabled)this._layer.hide();this._subscribed=false;}.bind(this));}});e.exports=i;});
__d("ContextualLayer",["Event","Arbiter","ARIA","Class","ContextualThing","CSS","DataStore","DOM","Layer","LayerHideOnTransition","Locale","Parent","Rect","Style","Vector","arrayContains","copyProperties","emptyFunction","getOverlayZIndex","removeFromArray","throttle"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('ARIA'),j=b('Class'),k=b('ContextualThing'),l=b('CSS'),m=b('DataStore'),n=b('DOM'),o=b('Layer'),p=b('LayerHideOnTransition'),q=b('Locale'),r=b('Parent'),s=b('Rect'),t=b('Style'),u=b('Vector'),v=b('arrayContains'),w=b('copyProperties'),x=b('emptyFunction'),y=b('getOverlayZIndex'),z=b('removeFromArray'),aa=b('throttle');function ba(ia){return ia.getPosition()==='left'||(ia.isVertical()&&ia.getAlignment()==='right');}function ca(ia){var ja=ia.parentNode;if(ja){var ka=t.get(ja,'position');if(ka==='static'){if(ja===document.body){ja=document.documentElement;}else ja=ca(ja);}else return ja;}else ja=document.documentElement;return ja;}function da(ia,ja){this.parent.construct(this,ia,ja);}var ea=[];h.subscribe('reflow',function(){ea.forEach(function(ia){if(ia.updatePosition()===false)ia.hide();});});j.extend(da,o);w(da.prototype,{_contentWrapper:null,_content:null,_contextNode:null,_contextBounds:null,_contextSelector:null,_parentLayer:null,_parentSubscription:null,_orientation:null,_orientationClass:null,_shouldSetARIAProperties:true,_configure:function(ia,ja){this.parent._configure(ia,ja);if(ia.context){this.setContext(ia.context);}else if(ia.contextID){this._setContextID(ia.contextID);}else if(ia.contextSelector)this._setContextSelector(ia.contextSelector);this.setPosition(ia.position);this.setAlignment(ia.alignment);this.setOffsetX(ia.offsetX);this.setOffsetY(ia.offsetY);this._content=ja;},_getDefaultBehaviors:function(){return this.parent._getDefaultBehaviors().concat([p]);},_buildWrapper:function(ia,ja){this._contentWrapper=n.create('div',{className:'uiContextualLayer'},ja);return n.create('div',{className:'uiContextualLayerPositioner'},this._contentWrapper);},getInsertParent:function(){var ia=this._insertParent;if(!ia){var ja=this.getContext();if(ja)ia=r.byClass(ja,'uiContextualLayerParent');}return ia||this.parent.getInsertParent();},setContent:function(ia){this._content=ia;n.setContent(this._contentWrapper,this._content);this._shown&&this.updatePosition();return this;},setContext:function(ia){return this.setContextWithBounds(ia,null);},setContextWithBounds:function(ia,ja){this._contextNode=ia;this._contextBounds=ja||null;this._contextSelector=this._contextScrollParent=null;if(this._shown){k.register(this.getRoot(),this._contextNode);this.updatePosition();}this._setParentSubscription();this.setARIAProperties();return this;},shouldSetARIAProperties:function(ia){this._shouldSetARIAProperties=ia;return this;},setARIAProperties:function(){if(this._shouldSetARIAProperties)i.setPopup(this.getCausalElement(),this.getRoot());return this;},_setContextID:function(ia){this._contextSelector='#'+ia;this._contextNode=null;},_setContextSelector:function(ia){this._contextSelector=ia;this._contextNode=null;},getCausalElement:function(){return this.parent.getCausalElement()||this.getContext();},_setParentSubscription:function(){var ia=this.getContext(),ja=null;while(ia!==null){ja=m.get(ia,'layer');if(ja)break;ia=ia.parentNode;}if(ja===this._parentLayer)return;if(this._parentLayer&&this._parentSubscription){this._parentLayer.unsubscribe(this._parentSubscription);this._parentSubscription=null;}if(ja)this._parentSubscription=ja.subscribe('hide',this.hide.bind(this));this._parentLayer=ja;},setPosition:function(ia){if(this._getOrientation().setDefaultPosition(ia))this._shown&&this.updatePosition();return this;},setAlignment:function(ia){if(this._getOrientation().setDefaultAlignment(ia))this._shown&&this.updatePosition();return this;},setOffsetX:function(ia){if(this._getOrientation().setDefaultOffsetX(ia))this._shown&&this.updatePosition();return this;},setOffsetY:function(ia){if(this._getOrientation().setDefaultOffsetY(ia))this._shown&&this.updatePosition();return this;},_getOrientation:function(){if(!this._orientation)this._orientation=new ha();return this._orientation;},getContentRoot:function(){return this._contentWrapper;},getContent:function(){return this._content;},getContext:function(){if(!this._contextNode)this._contextNode=n.find(document,this._contextSelector);return this._contextNode;},getContextBounds:function(ia){if(this._contextBounds)return this._contextBounds.convertTo(ia);var ja=this.getContext();return s.newFromVectors(u.getElementPosition(ja,ia),u.getElementDimensions(ja));},getContextScrollParent:function(){if(!this._contextScrollParent)this._contextScrollParent=t.getScrollParent(this.getContext());return this._contextScrollParent;},setInsertParent:function(ia){this._insertScrollParent=null;return this.parent.setInsertParent(ia);},getInsertScrollParent:function(){if(!this._insertScrollParent)this._insertScrollParent=t.getScrollParent(this.getInsertParent());return this._insertScrollParent;},show:function(){if(this._shown)return this;this.parent.show();if(this._shown){k.register(this.getRoot(),this.getContext());ea.push(this);this._resizeListener=this._resizeListener||g.listen(window,'resize',aa(this.updatePosition.bind(this)));}return this;},finishHide:function(){z(ea,this);this._resizeListener&&this._resizeListener.remove();this._resizeListener=null;return this.parent.finishHide();},isFixed:function(){return (t.isFixed(this.getContext())&&!t.isFixed(this.getInsertParent()));},updatePosition:function(){var ia=this.getContext();if(!ia)return false;var ja=this.isFixed();if(!ja&&!ia.offsetParent)return false;var ka=this.getRoot();t.set(ka,'width',u.getViewportDimensions().x+'px');var la=this._getOrientation();this.inform('adjust',la.reset());if(!la.isValid())return false;this._updateWrapperPosition(la);this._updateWrapperClass(la);l.conditionClass(ka,'uiContextualLayerPositionerFixed',ja);var ma,na,oa=ja?'viewport':'document',pa=ja?document.documentElement:ca(ka);if(pa===document.documentElement){ma=new u(0,0);na=document.documentElement.clientWidth;}else if(!ka.offsetParent){return false;}else{ma=u.getElementPosition(pa,oa);na=pa.offsetWidth;if(pa!==document.body)ma=ma.sub(new u(pa.scrollLeft,pa.scrollTop));}var qa=this.getContextBounds(oa),ra=qa.l-ma.x,sa=qa.t-ma.y,ta=qa.h(),ua=qa.w(),va=q.isRTL();if(la.getPosition()==='below')sa+=ta;if((la.getPosition()==='right'||(la.isVertical()&&la.getAlignment()==='right'))!=va)ra+=ua;var wa=la.getOffsetX();if(la.isVertical()&&la.getAlignment()==='center')wa+=(ua-this.getContentRoot().offsetWidth)/2;if(va)wa*=-1;var xa='left',ya=Math.floor(ra+wa);if(ba(la)!==va){xa='right';ya=na-ya;}t.set(ka,xa,ya+'px');t.set(ka,xa==='left'?'right':'left','');var za=this.getInsertScrollParent(),ab;if(za!==window){ab=za.clientWidth;}else ab=document.documentElement.clientWidth;var bb=u.getElementPosition(ka).x;if(xa==='left'){if(ab-bb>0){t.set(ka,'width',(ab-bb)+'px');}else t.set(ka,'width','');}else t.set(ka,'width',bb+ka.offsetWidth+'px');t.set(ka,'top',(sa+la.getOffsetY())+'px');var cb=y(ia,this.getInsertParent());t.set(ka,'z-index',cb>200?cb:'');this.inform('reposition',la);return true;},_updateWrapperPosition:function(ia){var ja=ia.getPosition()==='above';t.set(this._contentWrapper,'bottom',ja?'0':null);var ka=q.isRTL()?'left':'right',la=ba(ia);t.set(this._contentWrapper,ka,la?'0':null);},_updateWrapperClass:function(ia){var ja=ia.getClassName();if(ja===this._orientationClass)return;if(this._orientationClass)l.removeClass(this._contentWrapper,this._orientationClass);this._orientationClass=ja;l.addClass(this._contentWrapper,ja);},simulateOrientation:function(ia,ja){var ka=ia.getClassName();if(ka===this._orientationClass){return ja();}else{if(this._orientationClass)l.removeClass(this._contentWrapper,this._orientationClass);l.addClass(this._contentWrapper,ka);var la=ja();l.removeClass(this._contentWrapper,ka);if(this._orientationClass)l.addClass(this._contentWrapper,this._orientationClass);return la;}},destroy:function(){this.parent.destroy();this._contentWrapper=null;this._content=null;return this;}});var fa=x.thatReturnsArgument,ga=x.thatReturnsArgument;function ha(){this._default={_position:'above',_alignment:'left',_offsetX:0,_offsetY:0,_valid:true};this.reset();}ha.OPPOSITE={above:'below',below:'above',left:'right',right:'left'};w(ha.prototype,{setPosition:function(ia){this._position=fa(ia);return this;},setAlignment:function(ia){this._alignment=ga(ia);return this;},getOppositePosition:function(){return ha.OPPOSITE[this.getPosition()];},invalidate:function(){this._valid=false;return this;},getPosition:function(){return this._position||'above';},getAlignment:function(){return this._alignment||'left';},getOffsetX:function(){var ia=this._offsetX||0;if(!this.isVertical()){if(this._default._position!==this._position)ia*=-1;}else if(this._default._alignment!==this._alignment)ia*=-1;return ia;},getOffsetY:function(){var ia=this._offsetY||0;if(this.isVertical()&&this._default._position!==this._position)ia*=-1;return ia;},getClassName:function(){var ia=this.getAlignment(),ja=this.getPosition();if(ja==='below'){if(ia==='left'){return 'uiContextualLayerBelowLeft';}else if(ia==='right'){return 'uiContextualLayerBelowRight';}else return 'uiContextualLayerBelowCenter';}else if(ja==='above'){if(ia==='left'){return 'uiContextualLayerAboveLeft';}else if(ia==='right'){return 'uiContextualLayerAboveRight';}else return 'uiContextualLayerAboveCenter';}else if(ja==='left'){return 'uiContextualLayerLeft';}else return 'uiContextualLayerRight';},isValid:function(){return this._valid;},isVertical:function(){return this.getPosition()==='above'||this.getPosition()==='below';},reset:function(ia,ja){w(this,this._default);return this;},setDefaultPosition:function(ia){var ja=this._default._position;this._default._position=fa(ia);return ja!==ia;},setDefaultAlignment:function(ia){var ja=this._default._alignment;this._default._alignment=ga(ia);return ja!==ia;},setDefaultOffsetX:function(ia){var ja=this._default._offsetX;this._default._offsetX=ia;return ja!==ia;},setDefaultOffsetY:function(ia){var ja=this._default._offsetY;this._default._offsetY=ia;return ja!==ia;}});e.exports=da;});
__d("ContextualLayerDimensions",["DOM","Locale","Rect","Vector","ViewportBounds","ge","getOverlayZIndex"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('Locale'),i=b('Rect'),j=b('Vector'),k=b('ViewportBounds'),l=b('ge'),m=b('getOverlayZIndex'),n={getViewportRect:function(o){var p=l('globalContainer'),q=o.getContext(),r=(p&&g.contains(p,q))||m(q)<300,s=i.getViewportBounds();if(r){s.t+=k.getTop();if(h.isRTL()){s.r-=k.getLeft();s.l+=k.getRight();}else{s.r-=k.getRight();s.l+=k.getLeft();}}return s;},getLayerRect:function(o,p){var q=o.getContextBounds('viewport'),r=o.simulateOrientation(p,function(){return j.getElementDimensions(o.getContent());}),s=q.t+p.getOffsetY();if(p.getPosition()==='above'){s-=r.y;}else if(p.getPosition()==='below')s+=q.b-q.t;var t=q.l+p.getOffsetX(),u=q.r-q.l;if(p.isVertical()){var v=p.getAlignment();if(v==='center'){t+=(u-r.x)/2;}else if((v==='right')!==h.isRTL())t+=u-r.x;}else if((p.getPosition()==='right')!==h.isRTL()){t+=u;}else t-=r.x;return new i(s,t+r.x,s+r.y,t,'viewport');}};e.exports=n;});
__d("ContextualLayerAutoFlip",["ContextualLayerDimensions","DOM","Vector","arrayContains","copyProperties"],function(a,b,c,d,e,f){var g=b('ContextualLayerDimensions'),h=b('DOM'),i=b('Vector'),j=b('arrayContains'),k=b('copyProperties');function l(m){this._layer=m;}k(l.prototype,{_subscription:null,enable:function(){this._subscription=this._layer.subscribe('adjust',this._adjustOrientation.bind(this));if(this._layer.isShown())this._layer.updatePosition();},disable:function(){this._subscription.unsubscribe();this._subscription=null;if(this._layer.isShown())this._layer.updatePosition();},_adjustOrientation:function(m,n){var o=this._getValidPositions(n);if(!o.length){n.invalidate();return;}var p=g.getViewportRect(this._layer),q=this._getValidAlignments(n),r,s,t;for(r=0;r<q.length;r++){n.setAlignment(q[r]);for(s=0;s<o.length;s++){n.setPosition(o[s]);t=g.getLayerRect(this._layer,n);if(p.contains(t))return;}}n.setPosition(j(o,'below')?'below':o[0]);for(r=0;r<q.length;r++){n.setAlignment(q[r]);t=g.getLayerRect(this._layer,n);if(t.l>=p.l&&t.r<=p.r)return;}n.setAlignment(q[0]);},_getValidPositions:function(m){var n=[m.getPosition(),m.getOppositePosition()],o=this._layer.getContextScrollParent();if(o===window||o===h.getDocumentScrollElement())return n;var p=this._layer.getContext(),q=i.getElementPosition(o,'viewport').y,r=i.getElementPosition(p,'viewport').y;if(m.isVertical()){return n.filter(function(t){if(t==='above'){return r>=q;}else{var u=q+o.offsetHeight,v=r+p.offsetHeight;return v<=u;}});}else{var s=q+o.offsetHeight;if(r>=q&&r+p.offsetHeight<=s){return n;}else return [];}},_getValidAlignments:function(m){var n=['left','right','center'],o=m.getAlignment(),p=n.indexOf(o);if(p>0){n.splice(p,1);n.unshift(o);}return n;}});e.exports=l;});
__d("ContextualLayerHideOnScroll",["Event","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('copyProperties');function i(j){this._layer=j;}h(i.prototype,{_subscriptions:[],enable:function(){this._subscriptions=[this._layer.subscribe('contextchange',this._handleContextChange.bind(this)),this._layer.subscribe('show',this.attach.bind(this)),this._layer.subscribe('hide',this.detach.bind(this))];},disable:function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this.detach();},attach:function(){if(this._listener)return;var j=this._layer.getContextScrollParent();if(j===window)return;this._listener=g.listen(j,'scroll',this._layer.hide.bind(this._layer));},detach:function(){this._listener&&this._listener.remove();this._listener=null;},_handleContextChange:function(){this.detach();if(this._layer.isShown())this.attach();}});e.exports=i;});
__d("ContextualTypeaheadView",["BucketedTypeaheadView","CSS","Class","ContextualLayer","ContextualLayerAutoFlip","ContextualLayerHideOnScroll","DOM","DOMDimensions","Style","copyProperties"],function(a,b,c,d,e,f){var g=b('BucketedTypeaheadView'),h=b('CSS'),i=b('Class'),j=b('ContextualLayer'),k=b('ContextualLayerAutoFlip'),l=b('ContextualLayerHideOnScroll'),m=b('DOM'),n=b('DOMDimensions'),o=b('Style'),p=b('copyProperties');function q(r,s){this.parent.construct(this,r,s);}i.extend(q,g);p(q.prototype,{init:function(){this.initializeLayer();this.parent.init();},initializeLayer:function(){this.context=this.getContext();this.wrapper=m.create('div');m.appendContent(this.wrapper,this.element);h.addClass(this.element,'uiContextualTypeaheadView');this.layer=new j({context:this.context,position:'below',alignment:this.alignment,causalElement:this.causalElement},this.wrapper);this.layer.enableBehavior(l);if(o.isFixed(this.context)||this.autoflip)this.layer.enableBehavior(k);this.subscribe('render',this.renderLayer.bind(this));},show:function(){if(this.minWidth){o.set(this.wrapper,'min-width',this.minWidth+'px');}else if(this.width){o.set(this.wrapper,'width',this.width+'px');}else o.set(this.wrapper,'width',n.getElementDimensions(this.context).width+'px');var r=this.parent.show();this.layer.show();return r;},hide:function(){this.layer.hide();return this.parent.hide();},renderLayer:function(){if(!this.isVisible())return;if(this.layer.isShown()){this.layer.updatePosition();}else this.layer.show();},clearText:function(){this.layer.getCausalElement().value='';},getContext:function(){return this.element.parentNode;}});e.exports=q;});
__d("DOMClone",[],function(a,b,c,d,e,f){var g={shallowClone:function(i){return h(i,false);},deepClone:function(i){return h(i,true);}};function h(i,j){var k=i.cloneNode(j);if(typeof k.__FB_TOKEN!=='undefined')delete k.__FB_TOKEN;return k;}e.exports=g;});
__d("DialogHideOnSuccess",["copyProperties","CSS","cx"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('CSS'),i=b('cx');function j(k){this._layer=k;}g(j.prototype,{_subscription:null,enable:function(){this._subscription=this._layer.subscribe('success',this._handle.bind(this));},disable:function(){this._subscription.unsubscribe();this._subscription=null;},_handle:function(k,event){if(h.hasClass(event.getTarget(),"_s"))this._layer.hide();}});e.exports=j;});
__d("DocRPC",["ErrorUtils"],function(a,b,c,d,e,f){var g=b('ErrorUtils'),h={_apis:{},_dispatch:function(i){var j;try{i=JSON.parse(i);}catch(k){throw new Error('DocRPC unparsable dispatch: "'+i+'"');}if(h._apis.hasOwnProperty(i.api)){var l=h._apis[i.api];if(l[i.method])j=g.applyWithGuard(l[i.method],l,i.args);}if(j===undefined)j=null;return JSON.stringify(j);},publish:function(i,j){h._apis[j]=i;},proxy:function(i,j,k){var l={};k.forEach(function(m){l[m]=function(){var n={api:j,method:m,args:Array.prototype.slice.call(arguments)},o;try{if(i.closed)throw new Error('DocRPC window closed');o=i.DocRPC._dispatch(JSON.stringify(n));}catch(p){g.reportError(p);return;}if(typeof(o)=='string')try{o=JSON.parse(o);}catch(p){throw new Error('DocRPC '+j+'.'+m+' unparsable return: "'+o+'"');}return o;};});return l;}};e.exports=a.DocRPC=h;});
__d("DocumentTitle",["Arbiter"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=document.title,i=null,j=1500,k=[],l=0,m=null,n=false;function o(){if(k.length>0){if(!n){p(k[l].title);l=++l%k.length;}else q();}else{clearInterval(m);m=null;q();}}function p(s){document.title=s;n=true;}function q(){r.set(i||h,true);n=false;}var r={get:function(){return h;},set:function(s,t){document.title=s;if(!t){h=s;i=null;g.inform('update_title',s);}else i=s;},blink:function(s){var t={title:s};k.push(t);if(m===null)m=setInterval(o,j);return {stop:function(){var u=k.indexOf(t);if(u>=0){k.splice(u,1);if(l>u){l--;}else if(l==u&&l==k.length)l=0;}}};}};e.exports=r;});
__d("DoublyLinkedListMap",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties');function h(){this._head=null;this._tail=null;this._nodes={};this._nodeCount=0;}g(h.prototype,{get:function(i){return this._nodes[i]?this._nodes[i].data:null;},getIndex:function(i){for(var j=this._head,k=0;j;j=j.next,k++)if(j.key===i)return k;return null;},_insert:function(i,j,k,l){k&&!this._nodes[k]&&(k=null);var m=(k&&this._nodes[k])||(l?this._head:this._tail),n={data:j,key:i,next:null,prev:null};if(m){this.remove(i);if(l){n.prev=m.prev;m.prev&&(m.prev.next=n);m.prev=n;n.next=m;}else{n.next=m.next;m.next&&(m.next.prev=n);m.next=n;n.prev=m;}}n.prev===null&&(this._head=n);n.next===null&&(this._tail=n);this._nodes[i]=n;this._nodeCount++;return this;},insertBefore:function(i,j,k){return this._insert(i,j,k,true);},insertAfter:function(i,j,k){return this._insert(i,j,k,false);},prepend:function(i,j){return this.insertBefore(i,j,this._head&&this._head.key);},append:function(i,j){return this.insertAfter(i,j,this._tail&&this._tail.key);},remove:function(i){var j=this._nodes[i];if(j){var k=j.next,l=j.prev;k&&(k.prev=l);l&&(l.next=k);this._head===j&&(this._head=k);this._tail===j&&(this._tail=l);delete this._nodes[i];this._nodeCount--;}return this;},find:function(i){for(var j=this._head;j;j=j.next)if(i(j.data))return j.key;return null;},reduce:function(i,j){for(var k=this._head;k;k=k.next)j=i(k.data,j);return j;},exists:function(i){return !!this._nodes[i];},isEmpty:function(){return !this._head;},reset:function(){this._head=null;this._tail=null;this._nodes={};this._nodeCount=0;},map:function(i){for(var j=this._head;j;j=j.next)i(j.data);},getCount:function(){return this._nodeCount;},getHead:function(){return this._head&&this._head.data;},getTail:function(){return this._tail&&this._tail.data;},getNext:function(i){var j=this._nodes[i];if(j&&j.next)return j.next.data;return null;},getPrev:function(i){var j=this._nodes[i];if(j&&j.prev)return j.prev.data;return null;}});e.exports=h;});
__d("ErrorDialog",["Dialog","emptyFunction"],function(a,b,c,d,e,f){var g=b('Dialog'),h=b('emptyFunction'),i={showAsyncError:function(j){try{return i.show(j.getErrorSummary(),j.getErrorDescription());}catch(k){alert(j);}},show:function(j,k,l,m){return (new g()).setTitle(j).setBody(k).setButtons([g.OK]).setStackable(true).setModal(true).setHandler(l||h).setButtonsMessage(m||'').show();}};e.exports=i;});
__d("FileInput",["Event","ArbiterMixin","DOM","DOMClone","Focus","UserAgent","copyProperties","cx"],function(a,b,c,d,e,f){var g=b('Event'),h=b('ArbiterMixin'),i=b('DOM'),j=b('DOMClone'),k=b('Focus'),l=b('UserAgent'),m=b('copyProperties'),n=b('cx'),o=l.ie();function p(q,r,s){this.container=q;this.control=r;this.input=s;var t=i.scry(this.container,'a')[0];t&&t.removeAttribute('href');var u=i.create('div',{className:"_3jk"},this.input);i.appendContent(this.control,u);this._initListeners();}m(p.prototype,h,{getValue:function(){return this.input.value;},getInput:function(){return this.input;},clear:function(){if(o){var q=j.deepClone(this.input);i.replace(this.input,q);this.input=q;while(this._listeners.length)this._listeners.pop().remove();this._initListeners();}else{this.input.value='';this.input.files=null;}},_initListeners:function(){k.relocate(this.input,this.control);this._listeners=[g.listen(this.input,'change',o===7?this._handleChangeInIE7.bind(this):this._handleChange.bind(this))];},_handleChangeInIE7:function(event){if(this._blurring){this._blurring=false;return;}this._handleChange(event);(function(){this._blurring=true;this.input.blur();}).bind(this).defer();},_handleChange:function(event){this.inform('change',event);var q=this.input.form;if(q&&o<9)g.fire(q,'change',event);}});e.exports=p;});
__d("FullScreen",["Event","Arbiter","CSS","UserAgent","copyProperties","throttle"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('CSS'),j=b('UserAgent'),k=b('copyProperties'),l=b('throttle'),m={},n=k(new h(),{listenForEvent:function(p){var q=l(this.onChange,0,this);if(!m[p.id]){m[p.id]=true;g.listen(p,{webkitfullscreenchange:q,mozfullscreenchange:q,fullscreenchange:q});}},enableFullScreen:function(p){this.listenForEvent(p);if(p.webkitRequestFullScreen){if(j.chrome()){p.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);}else p.webkitRequestFullScreen();}else if(p.mozRequestFullScreen){p.mozRequestFullScreen();}else if(p.requestFullScreen){p.requestFullScreen();}else return false;return true;},disableFullScreen:function(){if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.cancelFullScreen){document.cancelFullScreen();}else if(document.exitFullScreen){document.exitFullScreen();}else return false;return true;},isFullScreen:function(){return (document.webkitIsFullScreen||document.fullScreen||document.mozFullScreen);},toggleFullScreen:function(p){if(this.isFullScreen()){this.disableFullScreen();return false;}else return this.enableFullScreen(p);return false;},onChange:function(){var p=this.isFullScreen();i.conditionClass(document.body,'fullScreen',p);this.inform('changed');},isSupported:function(){return (document.webkitCancelFullScreen&&j.chrome())||document.mozCancelFullScreen||document.cancelFullScreen||document.exitFullScreen;}}),o=l(n.onChange,0,n);g.listen(document,{webkitfullscreenchange:o,mozfullscreenchange:o,fullscreenchange:o});e.exports=n;});
__d("KeyStatus",["Event"],function(a,b,c,d,e,f){var g=b('Event'),h=null,i=null;function j(){if(!i)i=g.listen(window,'blur',function(){h=null;k();});}function k(){if(i){i.remove();i=null;}}g.listen(document.documentElement,'keydown',function(m){h=g.getKeyCode(m);j();},g.Priority.URGENT);g.listen(document.documentElement,'keyup',function(m){h=null;k();},g.Priority.URGENT);var l={isKeyDown:function(){return !!h;},getKeyDownCode:function(){return h;}};e.exports=l;});
__d("MenuDeprecated",["Event","Arbiter","CSS","DataStore","DOM","HTML","Keys","Parent","Style","UserAgent","copyProperties","emptyFunction","Run"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('CSS'),j=b('DataStore'),k=b('DOM'),l=b('HTML'),m=b('Keys'),n=b('Parent'),o=b('Style'),p=b('UserAgent'),q=b('copyProperties'),r=b('emptyFunction'),s='menu:mouseover',t=null;function u(ea){if(i.hasClass(ea,'uiMenuContainer'))return ea;return n.byClass(ea,'uiMenu');}function v(ea){return n.byClass(ea,'uiMenuItem');}function w(ea){if(document.activeElement){var fa=v(document.activeElement);return ea.indexOf(fa);}return -1;}function x(ea){return k.find(ea,'a.itemAnchor');}function y(ea){return i.hasClass(ea,'checked');}function z(ea){return !i.hasClass(ea,'disabled')&&o.get(ea,'display')!=='none';}function aa(event){var ea=document.activeElement;if(!ea||!n.byClass(ea,'uiMenu')||!k.isInputNode(ea)){var fa=v(event.getTarget());fa&&da.focusItem(fa);}}function ba(ea){p.firefox()&&x(ea).blur();da.inform('select',{menu:u(ea),item:ea});}var ca=function(){ca=r;var ea={};ea.click=function(event){var fa=v(event.getTarget());if(fa&&z(fa)){ba(fa);var ga=x(fa),ha=ga.href,ia=ga.getAttribute('rel');return (ia&&ia!=='ignore')||(ha&&ha.charAt(ha.length-1)!=='#');}};ea.keydown=function(event){var fa=event.getTarget();if(event.getModifiers().any)return;if(!t||k.isInputNode(fa))return;var ga=g.getKeyCode(event),ha;switch(ga){case m.UP:case m.DOWN:var ia=da.getEnabledItems(t);ha=w(ia);da.focusItem(ia[ha+(ga===m.UP?-1:1)]);return false;case m.SPACE:var ja=v(fa);if(ja){ba(ja);event.prevent();}break;default:var ka=String.fromCharCode(ga).toLowerCase(),la=da.getEnabledItems(t);ha=w(la);var ma=ha,na=la.length;while((~ha&&(ma=++ma%na)!==ha)||(!~ha&&++ma<na)){var oa=da.getItemLabel(la[ma]);if(oa&&oa.charAt(0).toLowerCase()===ka){da.focusItem(la[ma]);return false;}}}};g.listen(document.body,ea);},da=q(new h(),{focusItem:function(ea){if(ea&&z(ea)){this._removeSelected(u(ea));i.addClass(ea,'selected');x(ea).focus();}},getEnabledItems:function(ea){return da.getItems(ea).filter(z);},getCheckedItems:function(ea){return da.getItems(ea).filter(y);},getItems:function(ea){return k.scry(ea,'li.uiMenuItem');},getItemLabel:function(ea){return ea.getAttribute('data-label',2)||'';},isItemChecked:function(ea){return i.hasClass(ea,'checked');},autoregister:function(ea,fa,ga){ea.subscribe('show',function(){da.register(fa,ga);});ea.subscribe('hide',function(){da.unregister(fa);});},register:function(ea,fa){ea=u(ea);ca();if(!j.get(ea,s))j.set(ea,s,g.listen(ea,'mouseover',aa));if(fa!==false)t=ea;},setItemEnabled:function(ea,fa){if(!fa&&!k.scry(ea,'span.disabledAnchor')[0])k.appendContent(ea,k.create('span',{className:k.find(ea,'a').className+' disabledAnchor'},l(x(ea).innerHTML)));i.conditionClass(ea,'disabled',!fa);},toggleItem:function(ea){var fa=!da.isItemChecked(ea);da.setItemChecked(ea,fa);},setItemChecked:function(ea,fa){i.conditionClass(ea,'checked',fa);x(ea).setAttribute('aria-checked',fa);},unregister:function(ea){ea=u(ea);var fa=j.remove(ea,s);fa&&fa.remove();t=null;this._removeSelected(ea);},_removeSelected:function(ea){da.getItems(ea).filter(function(fa){return i.hasClass(fa,'selected');}).forEach(function(fa){i.removeClass(fa,'selected');});}});e.exports=da;});
__d("OnVisible",["Event","Arbiter","Run","Vector","ViewportBounds","coalesce","copyProperties","queryThenMutateDOM"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('Run'),j=b('Vector'),k=b('ViewportBounds'),l=b('coalesce'),m=b('copyProperties'),n=b('queryThenMutateDOM'),o=[],p,q=0,r=[],s,t,u,v,w;function x(){o.forEach(function(da){da.remove();});if(t){t.remove();s.remove();p.unsubscribe();t=s=p=null;}q=0;o.length=0;}function y(){if(!o.length){x();return;}r.length=0;u=j.getScrollPosition().y;v=j.getViewportDimensions().y;w=k.getTop();for(var da=0;da<o.length;++da){var ea=o[da];if(isNaN(ea.elementHeight))r.push(da);ea.elementHeight=j.getElementDimensions(ea.element).y;ea.elementPos=j.getElementPosition(ea.element);}q=da;}function z(){for(var da=Math.min(o.length,q)-1;da>=0;--da){var ea=o[da];if(!ea.elementPos||ea.removed){o.splice(da,1);continue;}var fa=u+v+ea.buffer,ga=false;if(fa>ea.elementPos.y){var ha=!ea.strict||(u+w-ea.buffer<(ea.elementPos.y+ea.elementHeight));ga=ha;}if(ea.inverse?!ga:ga){ea.remove();ea.handler(r.indexOf(da)!==-1);}}}function aa(){ba();if(o.length)return;t=g.listen(window,'scroll',ba);s=g.listen(window,'resize',ba);p=h.subscribe('dom-scroll',ba);}function ba(){n(y,z,'OnVisible/positionCheck');}function ca(da,ea,fa,ga,ha){this.element=da;this.handler=ea;this.strict=fa;this.buffer=l(ga,300);this.inverse=l(ha,false);if(o.length===0)i.onLeave(x);aa();o.push(this);}m(ca,{checkBuffer:ba});m(ca.prototype,{remove:function(){this.removed=true;},reset:function(){this.elementHeight=null;o.indexOf(this)===-1&&o.push(this);aa();},setBuffer:function(da){this.buffer=da;ba();},checkBuffer:function(){ba();}});e.exports=ca;});
__d("LayerButtons",["Event","Parent","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Parent'),i=b('copyProperties');function j(k){this._layer=k;}i(j.prototype,{_listener:null,enable:function(){this._listener=g.listen(this._layer.getRoot(),'click',this._handle.bind(this));},disable:function(){this._listener.remove();this._listener=null;},_handle:function(k){var l=k.getTarget(),m=h.byClass(l,'layerConfirm');if(m){if(this._layer.inform('confirm',m)===false)k.prevent();return;}var n=h.byClass(l,'layerCancel');if(n){if(this._layer.inform('cancel',n)!==false)this._layer.hide();k.prevent();return;}var o=h.byClass(l,'layerButton');if(o)if(this._layer.inform('button',o)===false)k.prevent();}});e.exports=j;});
__d("LayerDestroyOnHide",["function-extensions","copyProperties","shield"],function(a,b,c,d,e,f){b('function-extensions');var g=b('copyProperties'),h=b('shield');function i(j){this._layer=j;}g(i.prototype,{_subscription:null,enable:function(){this._subscription=this._layer.subscribe('hide',h(Function.prototype.defer,this._layer.destroy.bind(this._layer)));},disable:function(){if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}}});e.exports=i;});
__d("LayerFadeOnHide",["Animation","Layer","Style","UserAgent","copyProperties"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Layer'),i=b('Style'),j=b('UserAgent'),k=b('copyProperties');function l(m){this._layer=m;}k(l.prototype,{_subscription:null,enable:function(){if(j.ie()<9)return;this._subscription=this._layer.subscribe('starthide',this._handleStartHide.bind(this));},disable:function(){if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}},_handleStartHide:function(){var m=true,n=h.subscribe('show',function(){n.unsubscribe();m=false;});(function(){n.unsubscribe();n=null;if(m){this._animate();}else this._layer.finishHide();}).bind(this).defer();return false;},_animate:function(){new g(this._layer.getRoot()).from('opacity',1).to('opacity',0).duration(150).ondone(this._finish.bind(this)).go();},_finish:function(){i.set(this._layer.getRoot(),'opacity','');this._layer.finishHide();}});e.exports=l;});
__d("LayerFadeOnShow",["Animation","Style","UserAgent","copyProperties"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Style'),i=b('UserAgent'),j=b('copyProperties');function k(l){this._layer=l;}j(k.prototype,{_subscriptions:null,enable:function(){if(i.ie()<9)return;this._subscriptions=[this._layer.subscribe('beforeshow',function(){h.set(this._layer.getRoot(),'opacity',0);}.bind(this)),this._layer.subscribe('show',this._animate.bind(this))];},disable:function(){if(this._subscriptions){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null;}},_getDuration:function(){return 100;},_animate:function(){var l=this._layer.getRoot();new g(l).from('opacity',0).to('opacity',1).duration(this._getDuration()).ondone(h.set.curry(l,'opacity','')).go();}});e.exports=k;});
__d("LayerFormHooks",["Event","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('copyProperties');function i(j){this._layer=j;}h(i.prototype,{_subscriptions:null,enable:function(){var j=this._layer.getRoot();this._subscriptions=[g.listen(j,'submit',this._onSubmit.bind(this)),g.listen(j,'success',this._onSuccess.bind(this)),g.listen(j,'error',this._onError.bind(this))];},disable:function(){this._subscriptions.forEach(function(j){j.remove();});this._subscriptions=null;},_onSubmit:function(event){if(this._layer.inform('submit',event)===false)event.kill();},_onSuccess:function(event){if(this._layer.inform('success',event)===false)event.kill();},_onError:function(event){var j=event.getData();if(this._layer.inform('error',{response:j.response})===false)event.kill();}});e.exports=i;});
__d("LayerHideOnBlur",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties');function h(i){this._layer=i;}g(h.prototype,{_subscriptions:null,_onBlur:null,enable:function(){this._subscriptions=[this._layer.subscribe('show',this._attach.bind(this)),this._layer.subscribe('hide',this._detach.bind(this))];if(this._layer.isShown())this._attach();},disable:function(){this._detach();while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null;},_detach:function(){this._onBlur&&this._onBlur.unsubscribe();this._onBlur=null;},_attach:function(){this._onBlur=this._layer.subscribe('blur',function(){this._layer.hide();return false;}.bind(this));}});e.exports=h;});
__d("LayerHideOnEscape",["Event","copyProperties","Focus","Keys"],function(a,b,c,d,e,f){var g=b('Event'),h=b('copyProperties'),i=b('Focus'),j=b('Keys');function k(l){this._layer=l;}h(k.prototype,{_subscription:null,enable:function(){this._subscription=this._layer.subscribe('key',this._handle.bind(this));},disable:function(){this._subscription.unsubscribe();this._subscription=null;},_handle:function(l,event){if(g.getKeyCode(event)===j.ESC){var m=this._layer.getCausalElement();if(m)if(m.tabIndex!=-1)i.setWithoutOutline(m);this._layer.hide();return false;}}});e.exports=k;});
__d("LayerHideOnSuccess",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties');function h(i){this._layer=i;}g(h.prototype,{_subscription:null,enable:function(){this._subscription=this._layer.subscribe('success',this._layer.hide.bind(this._layer));},disable:function(){if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}}});e.exports=h;});
__d("TabbableElements",["Style","createArrayFrom"],function(a,b,c,d,e,f){var g=b('Style'),h=b('createArrayFrom');function i(l){if(l.tabIndex>=0)return true;switch(l.tagName){case "A":return l.href&&l.rel!="ignore";case "INPUT":return l.type!="hidden"&&l.type!="file"&&!l.disabled;case "BUTTON":case "SELECT":case "TEXTAREA":return !l.disabled;}return false;}function j(l){if(l.offsetHeight===0&&l.offsetWidth===0)return false;while(l!==document&&g.get(l,'visibility')!='hidden')l=l.parentNode;return l===document;}var k={find:function(l){var m=h(l.getElementsByTagName("*"));return m.filter(k.isTabbable);},isTabbable:function(l){return i(l)&&j(l);}};e.exports=k;});
__d("TabIsolation",["Event","DOMQuery","Focus","Keys","TabbableElements","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('DOMQuery'),i=b('Focus'),j=b('Keys'),k=b('TabbableElements'),l=b('copyProperties'),m=[],n=0;function o(p){this._root=p;this._eventHandler=null;this._identifier=n++;}l(o.prototype,{enable:function(){m.unshift(this._identifier);this._eventHandler=g.listen(window,'keydown',function(p){if(m[0]===this._identifier)this._tabHandler(p);}.bind(this),g.Priority.URGENT);},disable:function(){var p;if(this._eventHandler){p=m.indexOf(this._identifier);if(p>-1)m.splice(p,1);this._eventHandler.remove();this._eventHandler=null;}},_tabHandler:function(p){if(g.getKeyCode(p)!==j.TAB)return;var q=p.getTarget();if(!q)return;var r=k.find(this._root),s=r[0],t=r[r.length-1],u=p.getModifiers().shift;if(u&&q===s){p.preventDefault();i.set(t);}else if((!u&&q===t)||!h.contains(this._root,q)){p.preventDefault();i.set(s);}}});e.exports=o;});
__d("LayerTabIsolation",["TabIsolation","copyProperties"],function(a,b,c,d,e,f){var g=b('TabIsolation'),h=b('copyProperties');function i(j){this._layer=j;this._tabIsolation=null;}h(i.prototype,{_subscriptions:[],enable:function(){this._tabIsolation=new g(this._layer.getRoot());this._subscriptions=[this._layer.subscribe('show',this._tabIsolation.enable.bind(this._tabIsolation)),this._layer.subscribe('hide',this._tabIsolation.disable.bind(this._tabIsolation))];},disable:function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._tabIsolation.disable();this._tabIsolation=null;}});e.exports=i;});
__d("LayerMouseHooks",["Event","function-extensions","Arbiter","ContextualThing","Layer","copyProperties"],function(a,b,c,d,e,f){var g=b('Event');b('function-extensions');var h=b('Arbiter'),i=b('ContextualThing'),j=b('Layer'),k=b('copyProperties'),l=new h();function m(n){this._layer=n;this._subscriptions=[];this._currentlyActive=false;}k(m.prototype,{enable:function(){this._subscriptions=[l.subscribe('mouseenter',this._handleActive.bind(this)),l.subscribe('mouseleave',this._handleInactive.bind(this)),this._layer.subscribe('hide',function(){this._currentlyActive=false;}.bind(this))];},disable:function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=[];this._currentlyActive=false;},_handleActive:function(n,o){if(!this._currentlyActive&&this._isNodeWithinStack(o)){this._layer.inform('mouseenter');this._currentlyActive=true;}},_handleInactive:function(n,o){if(this._currentlyActive)if(!o||!this._isNodeWithinStack(o)){this._layer.inform('mouseleave');this._currentlyActive=false;}},_isNodeWithinStack:function(n){return i.containsIncludingLayers(this._layer.getContentRoot(),n);}});j.subscribe('show',function(n,o){var p=o.getContentRoot(),q=[g.listen(p,'mouseenter',function(){l.inform('mouseenter',p);}),g.listen(p,'mouseleave',function(s){l.inform('mouseleave',s.getRelatedTarget());})],r=o.subscribe('hide',function(){while(q.length)q.pop().remove();r.unsubscribe();q=r=null;});});e.exports=m;});
__d("Overlay",["Class","CSS","DataStore","DOM","Layer","LayerButtons","LayerDestroyOnHide","LayerFadeOnHide","LayerFadeOnShow","LayerFormHooks","LayerHideOnBlur","LayerHideOnEscape","LayerHideOnSuccess","LayerHideOnTransition","LayerTabIsolation","LayerMouseHooks","copyProperties"],function(a,b,c,d,e,f){var g=b('Class'),h=b('CSS'),i=b('DataStore'),j=b('DOM'),k=b('Layer'),l=b('LayerButtons'),m=b('LayerDestroyOnHide'),n=b('LayerFadeOnHide'),o=b('LayerFadeOnShow'),p=b('LayerFormHooks'),q=b('LayerHideOnBlur'),r=b('LayerHideOnEscape'),s=b('LayerHideOnSuccess'),t=b('LayerHideOnTransition'),u=b('LayerTabIsolation'),v=b('LayerMouseHooks'),w=b('copyProperties');function x(y,z){y=w({buildWrapper:true},y||{});this._shouldBuildWrapper=y.buildWrapper;this.parent.construct(this,y,z);}g.extend(x,k);w(x.prototype,{_configure:function(y,z){this.parent._configure(y,z);var aa=this.getRoot();this._overlay=j.scry(aa,'div.uiOverlay')[0]||aa;h.hide(aa);j.appendContent(this.getInsertParent(),aa);i.set(this._overlay,'overlay',this);var ba=i.get(this._overlay,'width');ba&&this.setWidth(ba);if(this.setFixed)this.setFixed(i.get(this._overlay,'fixed')=='true');if(i.get(this._overlay,'fadeonshow')!='false')this.enableBehavior(o);if(i.get(this._overlay,'fadeonhide')!='false')this.enableBehavior(n);if(i.get(this._overlay,'hideonsuccess')!='false')this.enableBehavior(s);if(i.get(this._overlay,'hideonblur')=='true')this.enableBehavior(q);if(i.get(this._overlay,'destroyonhide')!='false')this.enableBehavior(m);return this;},_getDefaultBehaviors:function(){return this.parent._getDefaultBehaviors().concat([l,p,v,r,t,u]);},initWithoutBuildingWrapper:function(){this._shouldBuildWrapper=false;return this.init.apply(this,arguments);},_buildWrapper:function(y,z){z=this.parent._buildWrapper(y,z);if(!this._shouldBuildWrapper){this._contentRoot=z;return z;}this._contentRoot=j.create('div',{className:'uiOverlayContent'},z);return j.create('div',{className:'uiOverlay'},this._contentRoot);},getContentRoot:function(){return this._contentRoot;},destroy:function(){i.remove(this.getRoot(),'overlay');this.parent.destroy();}});e.exports=x;});
__d("Toggler",["Event","Arbiter","ArbiterMixin","ContextualThing","CSS","DataStore","Dialog","DOM","DOMQuery","Focus","Parent","TabbableElements","arrayContains","cx","copyProperties","createArrayFrom","emptyFunction","ge","getContextualParent","getObjectValues"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('ArbiterMixin'),j=b('ContextualThing'),k=b('CSS'),l=b('DataStore'),m=b('Dialog'),n=b('DOM'),o=b('DOMQuery'),p=b('Focus'),q=b('Parent'),r=b('TabbableElements'),s=b('arrayContains'),t=b('cx'),u=b('copyProperties'),v=b('createArrayFrom'),w=b('emptyFunction'),x=b('ge'),y=b('getContextualParent'),z=b('getObjectValues'),aa=[],ba;function ca(){ca=w;g.listen(document.documentElement,'click',function(event){var ga=event.getTarget();aa.forEach(function(ha){ha.clickedTarget=ga;ha.active&&!ha.sticky&&!j.containsIncludingLayers(ha.getActive(),ga)&&!ha.inTargetFlyout(ga)&&ha.inActiveDialog()&&!ha.isIgnoredByModalLayer(ga)&&ha.hide();});},g.Priority.URGENT);}var da=function(){this.active=null;this.togglers={};this.setSticky(false);aa.push(this);this.subscribe(['show','hide'],da.inform.bind(da));return ca();};u(da.prototype,i,{show:function(ga){var ha=ea(this,ga),ia=ha.active;if(ga!==ia){ia&&ha.hide();ha.active=ga;k.addClass(ga,'openToggler');var ja=n.scry(ga,'a[rel="toggle"]');if(ja.length>0&&ja[0].getAttribute('data-target'))k.removeClass(x(ja[0].getAttribute('data-target')),'toggleTargetClosed');var ka=o.scry(ga,'.uiToggleFlyout')[0];if(ka){var la=r.find(ka)[0]||ka;if(la.tabIndex==-1)la.tabIndex=0;p.setWithoutOutline(la);}n.appendContent(ga,ha.getToggler('next'));n.prependContent(ga,ha.getToggler('prev'));ha.inform('show',ha);}},hide:function(ga){var ha=ea(this,ga),ia=ha.active;if(ia&&(!ga||ga===ia)){k.removeClass(ia,'openToggler');var ja=n.scry(ia,'a[rel="toggle"]');if(ja.length>0&&ja[0].getAttribute('data-target'))k.addClass(x(ja[0].getAttribute('data-target')),'toggleTargetClosed');z(ha.togglers).forEach(n.remove);ha.inform('hide',ha);ha.active=null;}},toggle:function(ga){var ha=ea(this,ga);if(ha.active===ga){ha.hide();}else ha.show(ga);},getActive:function(){return ea(this).active;},isShown:function(){return ea(this).active&&k.hasClass(ea(this).active,'openToggler');},inTargetFlyout:function(ga){var ha=fa(this.getActive());return ha&&j.containsIncludingLayers(ha,ga);},inActiveDialog:function(){var ga=m.getCurrent();return !ga||n.contains(ga.getRoot(),this.getActive());},isIgnoredByModalLayer:function(ga){return q.byClass(ga,"_3qw")&&!q.byClass(this.getActive(),"_3qw");},getToggler:function(ga){var ha=ea(this);if(!ha.togglers[ga]){ha.togglers[ga]=n.create('button',{className:'hideToggler',onfocus:function(){var ia=n.scry(ha.active,'a[rel="toggle"]')[0];ia&&ia.focus();ha.hide();}});ha.togglers[ga].setAttribute('type','button');}return this.togglers[ga];},setSticky:function(ga){var ha=ea(this);ga=ga!==false;if(ga!==ha.sticky){ha.sticky=ga;if(ga){ha._pt&&ha._pt.unsubscribe();}else ha._pt=h.subscribe('pre_page_transition',ha.hide.bind(ha,null));}return ha;}});u(da,da.prototype);u(da,{bootstrap:function(ga){var ha=ga.parentNode;da.getInstance(ha).toggle(ha);},createInstance:function(ga){var ha=new da().setSticky(true);l.set(ga,'toggler',ha);return ha;},destroyInstance:function(ga){l.remove(ga,'toggler');},getInstance:function(ga){while(ga){var ha=l.get(ga,'toggler');if(ha)return ha;if(k.hasClass(ga,'uiToggleContext'))return da.createInstance(ga);ga=y(ga);}return (ba=ba||new da());},listen:function(ga,ha,ia){return da.subscribe(v(ga),function(ja,ka){if(ka.getActive()===ha)return ia(ja,ka);});},subscribe:(function(ga){return function(ha,ia){ha=v(ha);if(s(ha,'show'))aa.forEach(function(ja){if(ja.getActive())ia.curry('show',ja).defer();});return ga(ha,ia);};})(da.subscribe.bind(da))});function ea(ga,ha){if(ga instanceof da)return ga;return da.getInstance(ha);}function fa(ga){var ha=n.scry(ga,'a[rel="toggle"]');if(ha.length>0&&ha[0].getAttribute('data-target'))return x(ha[0].getAttribute('data-target'));}e.exports=da;});
__d("Popover",["Event","Arbiter","ArbiterMixin","ContextualLayer","ContextualLayerHideOnScroll","CSS","DataStore","DOM","Focus","KeyStatus","LayerHideOnEscape","Toggler","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('ArbiterMixin'),j=b('ContextualLayer'),k=b('ContextualLayerHideOnScroll'),l=b('CSS'),m=b('DataStore'),n=b('DOM'),o=b('Focus'),p=b('KeyStatus'),q=b('LayerHideOnEscape'),r=b('Toggler'),s=b('copyProperties');r.subscribe(['show','hide'],function(u,v){var w=m.get(v.getActive(),'Popover');if(w)if(u==='show'){w.showLayer();}else w.hideLayer();});function t(u,v,w,x){this._root=u;this._triggerElem=v;this._behaviors=w;this._config=x;if(!(v.nodeName==='A'&&v.rel==='toggle'))g.listen(v,'click',function(){r.bootstrap(v);});v.setAttribute('role','button');m.set(u,'Popover',this);}s(t.prototype,i,{_layer:null,_closeListener:null,ensureInit:function(){if(!this._layer)this._init();},showLayer:function(){this.ensureInit();this._layer.show();r.show(this._root);l.addClass(this._root,'selected');this.inform('show');this._triggerElem.setAttribute('aria-expanded','true');},getLayer:function(){return this._layer;},hideLayer:function(){this._layer.hide();this._triggerElem.setAttribute('aria-expanded','false');},isShown:function(){return this._layer.isShown();},setLayerContent:function(u){this.ensureInit();this._layer.setContent(u);},_init:function(){var u=new j({context:this._triggerElem,position:'below'},n.create('div'));u.enableBehaviors([k,q]);r.createInstance(u.getRoot()).setSticky(false);u.subscribe('hide',this._onLayerHide.bind(this));this._behaviors&&u.enableBehaviors(this._behaviors);this._layer=u;if(this._config.alignh)this._layer.setAlignment(this._config.alignh);if(this._config.layer_content)this._layer.setContent(this._config.layer_content);this.inform('init',null,h.BEHAVIOR_PERSISTENT);},_onLayerHide:function(){r.hide(this._root);l.removeClass(this._root,'selected');this.inform('hide');if(p.isKeyDown())o.set(this._triggerElem);}});e.exports=t;});
__d("PopoverMenu",["Event","Arbiter","ArbiterMixin","ARIA","BehaviorsMixin","Focus","Keys","KeyStatus","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('ArbiterMixin'),j=b('ARIA'),k=b('BehaviorsMixin'),l=b('Focus'),m=b('Keys'),n=b('KeyStatus'),o=b('copyProperties');function p(q,r,s,t){this._popover=q;this._triggerElem=r;this._initialMenu=s;q.subscribe('init',this._onLayerInit.bind(this));q.subscribe('show',this._onPopoverShow.bind(this));q.subscribe('hide',this._onPopoverHide.bind(this));t&&this.enableBehaviors(t);}o(p.prototype,i,k);o(p.prototype,{_popoverShown:false,setMenu:function(q){this._menu=q;var r=q.getRoot();this._popover.setLayerContent(r);q.subscribe('done',this._onMenuDone.bind(this));if(this._popoverShown)this._menu.onShow();j.owns(this._triggerElem,r);this.inform('setMenu',null,h.BEHAVIOR_PERSISTENT);},getPopover:function(){return this._popover;},getTriggerElem:function(){return this._triggerElem;},getMenu:function(){return this._menu;},_onLayerInit:function(){this.setMenu(this._initialMenu);this._popover.getLayer().subscribe('key',this._handleKeyEvent.bind(this));},_onPopoverShow:function(){if(this._menu)this._menu.onShow();this._popoverShown=true;},_onPopoverHide:function(){if(this._menu)this._menu.onHide();this._popoverShown=false;},_handleKeyEvent:function(q,r){var s=g.getKeyCode(r);switch(s){case m.RETURN:return;case m.UP:case m.DOWN:this._menu.handleKeydown(s,r);break;default:if(this._menu.handleKeydown(s,r)===false){this._menu.blur();this._menu.handleKeydown(s,r);}break;}r.prevent();},_onMenuDone:function(q){this._popover.hideLayer.bind(this._popover).defer();if(n.isKeyDown())l.set(this._triggerElem);}});e.exports=p;});
__d("PopoverAsyncMenu",["Event","AsyncRequest","Class","PopoverMenu","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('AsyncRequest'),i=b('Class'),j=b('PopoverMenu'),k=b('copyProperties'),l={},m=0;function n(o,p,q,r,s){this._endpoint=r;this._loadingMenu=q;this._instanceId=m++;l[this._instanceId]=this;this._mouseoverListener=g.listen(p,'mouseover',this._fetchMenu.bind(this));this.parent.construct(this,o,p,null,s);}n.setMenu=function(o,p){l[o].setMenu(p);};n.getInstance=function(o){return l[o];};i.extend(n,j);k(n.prototype,{_fetched:false,_mouseoverListener:null,_onLayerInit:function(){if(!this._menu)this.setMenu(this._loadingMenu);this._fetchMenu();this._popover.getLayer().subscribe('key',this._handleKeyEvent.bind(this));},_fetchMenu:function(){if(this._fetched)return;new h().setURI(this._endpoint).setData({pmid:this._instanceId}).send();this._fetched=true;if(this._mouseoverListener){this._mouseoverListener.remove();this._mouseoverListener=null;}}});e.exports=n;});
__d("PopoverMenuOverlappingBorder",["function-extensions","CSS","DOM","Style","copyProperties","cx","shield"],function(a,b,c,d,e,f){b('function-extensions');var g=b('CSS'),h=b('DOM'),i=b('Style'),j=b('copyProperties'),k=b('cx'),l=b('shield');function m(n){this._popoverMenu=n;this._popover=n.getPopover();this._triggerElem=n.getTriggerElem();}j(m.prototype,{_shortBorder:null,_setMenuSubscription:null,_showSubscription:null,_menuSubscription:null,enable:function(){this._setMenuSubscription=this._popoverMenu.subscribe('setMenu',this._onSetMenu.bind(this));},disable:function(){this._popoverMenu.unsubscribe(this._setMenuSubscription);this._setMenuSubscription=null;this._removeBorderSubscriptions();this._removeShortBorder();},_onSetMenu:function(){this._removeBorderSubscriptions();this._menu=this._popoverMenu.getMenu();this._renderShortBorder(this._menu.getRoot());this._showSubscription=this._popover.subscribe('show',this._updateBorder.bind(this));this._menuSubscription=this._menu.subscribe(['change','resize'],l(Function.prototype.defer,this._updateBorder.bind(this)));this._updateBorder();},_updateBorder:function(){var n=this._menu.getRoot(),o=this._triggerElem.offsetWidth;i.set(n,'min-width',o+'px');var p=Math.max(n.offsetWidth-o,0);i.set(this._shortBorder,'width',p+'px');},_renderShortBorder:function(n){this._shortBorder=h.create('div',{className:"_54hx"});h.appendContent(n,this._shortBorder);g.addClass(n,"_54hy");},_removeShortBorder:function(){if(this._shortBorder){h.remove(this._shortBorder);this._shortBorder=null;g.removeClass(this._popoverMenu.getMenu().getRoot(),"_54hy");}},_removeBorderSubscriptions:function(){if(this._showSubscription){this._popover.unsubscribe(this._showSubscription);this._showSubscription=null;}if(this._menuSubscription){this._menu.unsubscribe(this._menuSubscription);this._menuSubscription=null;}}});e.exports=m;});
__d("PrivacyConst",[],function(a,b,c,d,e,f){var g={FRIENDS_PLUS_GAMER_FRIENDS:128,FRIENDS_MINUS_ACQUAINTANCES:127,FACEBOOK_EMPLOYEES:112,CUSTOM:111,EVERYONE:80,NETWORKS_FRIENDS_OF_FRIENDS:60,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,SELF:10,NOBODY:0},h={EVERYONE:80,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,SOME_FRIENDS:30,SELF:10,NO_FRIENDS:0},i={BaseValue:g,FriendsValue:h};e.exports=i;});
__d("highlight",["Animation","Style"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Style');function i(j,k,l){new g(j).from('background','#fff9d7').to('background',l||'#fff').ease(g.ease.both).duration(2000).ondone(function(){h.set(j,'background','');k&&k();}).go();}i.highlight=i;e.exports=i;});
__d("ScrollHighlight",["DOMScroll","highlight"],function(a,b,c,d,e,f){var g=b('DOMScroll'),h=b('highlight'),i={actOn:function(j,k){g.scrollTo(j);h(j,null,k);}};e.exports=i;});
__d("Tooltip",["Event","AsyncRequest","ContextualLayer","ContextualLayerAutoFlip","CSS","DataStore","DOM","Style","URI","copyProperties","emptyFunction","cx","tx"],function(a,b,c,d,e,f){var g=b('Event'),h=b('AsyncRequest'),i=b('ContextualLayer'),j=b('ContextualLayerAutoFlip'),k=b('CSS'),l=b('DataStore'),m=b('DOM'),n=b('Style'),o=b('URI'),p=b('copyProperties'),q=b('emptyFunction'),r=b('cx'),s=b('tx'),t=null,u=null,v=null,w=[],x;function y(){if(!u){v=m.create('div',{className:'tooltipContent'});var fa=m.create('i',{className:'arrow'}),ga=m.create('div',{className:'uiTooltipX'},[v,fa]);u=new i({},ga);u.shouldSetARIAProperties(false);u.enableBehavior(j);}}function z(fa){return p({content:fa.getAttribute('aria-label'),position:fa.getAttribute('data-tooltip-position')||'above',alignH:fa.getAttribute('data-tooltip-alignh')||'left'},l.get(fa,'tooltip'));}function aa(fa,ga){var ha=z(fa);l.set(fa,'tooltip',{content:ga.content||ha.content,position:ga.position||ha.position,alignH:ga.alignH||ha.alignH,suspend:ga.suspend||ha.suspend});fa.setAttribute('data-hover','tooltip');}function ba(fa,ga){ea.set(fa,"Caricamento in corso...");new h(ga).setHandler(function(ha){ea.set(fa,ha.getPayload());}).setErrorHandler(q).send();}var ca=/(\r\n|[\r\n])/;function da(fa){return fa.split(ca).map(function(ga){return ca.test(ga)?m.create('br'):ga;});}var ea={process:function(fa,ga){if(!m.contains(fa,ga))return;if(fa!==t&&!fa.getAttribute('data-tooltip-suspend')){var ha=fa.getAttribute('data-tooltip-uri');if(ha){fa.removeAttribute('data-tooltip-uri');ba(fa,ha);}ea.show(fa);}},remove:function(fa){l.remove(fa,'tooltip');fa.removeAttribute('data-hover');fa.removeAttribute('data-tooltip-position');fa.removeAttribute('data-tooltip-alignh');fa===t&&ea.hide();},suspend:function(fa){fa.setAttribute('data-tooltip-suspend',true);fa===t&&ea.hide();},unsuspend:function(fa){fa.removeAttribute('data-tooltip-suspend');},hide:function(){if(t){u.hide();t=null;while(w.length)w.pop().remove();}},set:function(fa,ga,ha,ia){if(ha||ia)aa(fa,{position:ha,alignH:ia});if(ga instanceof o){if(fa===t){ba(fa,ga);}else fa.setAttribute('data-tooltip-uri',ga);}else{if(typeof ga!=='string'){ga=m.create('div',{},ga);fa.setAttribute('aria-label',m.getText(ga));}else fa.setAttribute('aria-label',ga);aa(fa,{content:ga});fa===t&&ea.show(fa);}},show:function(fa){y();ea.hide();var ga=z(fa);if(!ga.content)return;var ha=0,ia=0;if(ga.position==='left'||ga.position==='right'){x=x||k.hasClass(document.body,"_6nw");var ja=x?28:20;ia=(fa.offsetHeight-ja)/2;}else if(ga.alignH!=='center'){var ka=fa.offsetWidth;if(ka<18)ha=(ka-18)/2*(ga.alignH==='right'?-1:1);}u.setContext(fa).setOffsetX(ha).setOffsetY(ia).setPosition(ga.position).setAlignment(ga.alignH);if(typeof ga.content==='string'){k.addClass(u,'invisible_elem');var la=m.create('span',{},da(ga.content)),ma=m.create('div',{className:'tooltipText'},la);m.setContent(v,ma);u.show();var na;if(ma.getClientRects){var oa=ma.getClientRects()[0];if(oa)na=Math.round(oa.right-oa.left);}if(!na)na=ma.offsetWidth;if(na<la.offsetWidth){k.addClass(ma,'tooltipWrap');u.updatePosition();}k.removeClass(u,'invisible_elem');}else{m.setContent(v,ga.content);u.show();}var pa=function(ra){if(!m.contains(t,ra.getTarget()))ea.hide();};w.push(g.listen(document.documentElement,'mouseover',pa),g.listen(document.documentElement,'focusin',pa));var qa=n.getScrollParent(fa);if(qa!==window)w.push(g.listen(qa,'scroll',ea.hide));w.push(g.listen(fa,'click',ea.hide));t=fa;}};g.listen(window,'scroll',ea.hide);e.exports=ea;});
__d("SelectorDeprecated",["Event","Arbiter","Button","ContextualLayer","CSS","DataStore","DOM","Focus","HTML","Keys","KeyStatus","MenuDeprecated","Parent","Style","Toggler","Tooltip","Vector","arrayContains","copyProperties","emptyFunction"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('Button'),j=b('ContextualLayer'),k=b('CSS'),l=b('DataStore'),m=b('DOM'),n=b('Focus'),o=b('HTML'),p=b('Keys'),q=b('KeyStatus'),r=b('MenuDeprecated'),s=b('Parent'),t=b('Style'),u=b('Toggler'),v=b('Tooltip'),w=b('Vector'),x=b('arrayContains'),y=b('copyProperties'),z=b('emptyFunction'),aa,ba,ca=[],da;function ea(pa){return s.byClass(pa,'uiSelector');}function fa(pa){return s.byClass(pa,'uiSelectorButton');}function ga(){if(!ba){ba=new j({position:'below'},m.create('div'));k.addClass(ba.getRoot(),'uiSelectorContextualLayer');}return ba;}function ha(pa){return m.scry(pa,'select')[0];}function ia(pa){return m.find(pa,'div.uiSelectorMenuWrapper');}function ja(){ja=z;r.subscribe('select',function(pa,qa){if(!aa||!qa||qa.menu!==oa.getSelectorMenu(aa))return;var ra=ka(aa),sa=la(qa.item);if(sa){var ta=aa,ua=oa.isOptionSelected(qa.item),va=oa.inform('select',{selector:ta,option:qa.item,clone:da});if(va===false)return;if(ra||!ua){oa.setSelected(ta,oa.getOptionValue(qa.item),!ua);oa.inform('toggle',{selector:ta,option:qa.item});oa.inform('change',{selector:ta});h.inform('Form/change',{node:ta});if(ma(ta))l.set(ta,'dirty',true);}}if(!ra||!sa)aa&&oa.toggle(aa);});}function ka(pa){return !!pa.getAttribute('data-multiple');}function la(pa){return k.hasClass(pa,'uiSelectorOption');}function ma(pa){return !!pa.getAttribute('data-autosubmit');}var na=function(){na=z;var pa={keydown:function(event){var qa=event.getTarget();if(m.isInputNode(qa))return;switch(g.getKeyCode(event)){case p.DOWN:case p.SPACE:case p.UP:if(fa(qa)){var ra=ea(qa);oa.toggle(ra);return false;}break;case p.ESC:if(aa){var sa=oa.getSelectorButton(aa);oa.toggle(aa);sa&&n.set(sa);return false;}break;}},mouseover:function(event){var qa=s.byAttribute(event.getTarget(),'ajaxify');if(qa&&k.hasClass(qa,'uiSelectorButton'))oa.loadMenu(ea(qa));}};g.listen(document.body,pa);};u.subscribe(['show','hide'],function(pa,qa){var ra=ea(qa.getActive());if(ra){na();ja();var sa=oa.getSelectorButton(ra),ta=oa.getSelectorMenu(ra),ua=pa==='show';sa.setAttribute('aria-expanded',ua?'true':'false');if(ua){aa=ra;if(k.hasClass(sa,'uiButtonDisabled')){oa.setEnabled(ra,false);return false;}ta=ta||oa.loadMenu(ra);var va=t.getScrollParent(ra),wa=va!==window&&va!==m.getDocumentScrollElement();if(wa||k.hasClass(ra,'uiSelectorUseLayer')){if(wa)ca.push(g.listen(va,'scroll',function(){qa.hide();}));da=m.create('div',{className:ra.className});k.addClass(da,'invisible_elem');w.getElementDimensions(ra).setElementDimensions(da);m.replace(ra,da);var xa=k.hasClass(ra,'uiSelectorRight'),ya=k.hasClass(ra,'uiSelectorBottomUp');ga().setContext(da).setContent(ra).setPosition(ya?'above':'below').setAlignment(xa?'right':'left').show();}r.register(ta);if(q.isKeyDown()){var za=r.getCheckedItems(ta);if(!za.length)za=r.getEnabledItems(ta);r.focusItem(za[0]);}}else{aa=null;if(da){while(ca.length)ca.pop().remove();m.replace(da,ra);ga().hide();da=null;}ta&&r.unregister(ta);if(ma(ra)&&l.get(ra,'dirty')){var ab=m.scry(ra,'input.submitButton')[0];ab&&ab.click();l.remove(ra,'dirty');}}k.conditionClass(oa.getSelectorButton(ra),'selected',ua);oa.inform(ua?'open':'close',{selector:ra,clone:da});}});var oa=y(new h(),{attachMenu:function(pa,qa,ra){pa=ea(pa);if(pa){aa&&r.unregister(oa.getSelectorMenu(aa));m.setContent(ia(pa),qa);aa&&r.register(oa.getSelectorMenu(pa));da&&ga().updatePosition();if(ra){var sa=pa.getAttribute('data-name');sa&&ra.setAttribute('name',sa);if(!ka(pa))ra.setAttribute('multiple',false);var ta=ha(pa);if(ta){m.replace(ta,ra);}else m.insertAfter(pa.firstChild,ra);}return true;}},getOption:function(pa,qa){var ra=oa.getOptions(pa),sa=ra.length;while(sa--)if(qa===oa.getOptionValue(ra[sa]))return ra[sa];return null;},getOptions:function(pa){var qa=r.getItems(oa.getSelectorMenu(pa));return qa.filter(la);},getEnabledOptions:function(pa){var qa=r.getEnabledItems(oa.getSelectorMenu(pa));return qa.filter(la);},getSelectedOptions:function(pa){return r.getCheckedItems(oa.getSelectorMenu(pa));},getOptionText:function(pa){return r.getItemLabel(pa);},getOptionValue:function(pa){var qa=ea(pa),ra=ha(qa),sa=oa.getOptions(qa).indexOf(pa);return sa>=0?ra.options[sa+1].value:'';},getSelectorButton:function(pa){return m.find(pa,'a.uiSelectorButton');},getSelectorMenu:function(pa){return m.scry(pa,'div.uiSelectorMenu')[0];},getValue:function(pa){var qa=ha(pa);if(!qa)return null;if(!ka(pa))return qa.value;var ra=[],sa=qa.options;for(var ta=1,ua=sa.length;ta<ua;ta++)if(sa[ta].selected)ra.push(sa[ta].value);return ra;},isOptionSelected:function(pa){return r.isItemChecked(pa);},listen:function(pa,qa,ra){return this.subscribe(qa,function(sa,ta){if(ta.selector===pa)return ra(ta,sa);});},loadMenu:function(pa){var qa=oa.getSelectorMenu(pa);if(!qa){var ra=oa.getSelectorButton(pa),sa=ra.getAttribute('ajaxify');if(sa){d(['AsyncRequest'],function(ua){ua.bootstrap(sa,ra);});var ta=o('<div class="uiSelectorMenuWrapper uiToggleFlyout">'+'<div class="uiMenu uiSelectorMenu loading">'+'<ul class="uiMenuInner">'+'<li><span></span></li>'+'</ul>'+'</div>'+'</div>');m.appendContent(ra.parentNode,ta);qa=oa.getSelectorMenu(pa);ra.removeAttribute('onmouseover');}}return qa;},setButtonLabel:function(pa,qa){var ra=oa.getSelectorButton(pa),sa=parseInt(ra.getAttribute('data-length'),10);qa=qa||ra.getAttribute('data-label')||'';i.setLabel(ra,qa);if(typeof qa==='string'){k.conditionClass(ra,'uiSelectorBigButtonLabel',qa.length>sa);if(sa&&qa.length>sa){ra.setAttribute('title',qa);}else ra.removeAttribute('title');}},setButtonTooltip:function(pa,qa){var ra=oa.getSelectorButton(pa),sa=s.byTag(ra,'a');sa&&v.set(sa,qa||ra.getAttribute('data-tooltip')||'');},updateButtonARIALabel:function(pa,qa){var ra=oa.getSelectorButton(pa),sa=s.byTag(ra,'a');if(sa){var ta=ra.getAttribute('data-ariaprefix');if(ta)ra.setAttribute('aria-label',ta+': '+qa);}},setEnabled:function(pa,qa){if(!qa&&aa&&ea(pa)===aa)oa.toggle(pa);i.setEnabled(oa.getSelectorButton(pa),qa);},setOptionEnabled:function(pa,qa){r.setItemEnabled(pa,qa);},setSelected:function(pa,qa,ra){ra=ra!==false;var sa=oa.getOption(pa,qa);if(!sa)return;var ta=oa.isOptionSelected(sa);if(ra!==ta){if(!ka(pa)&&!ta){var ua=oa.getSelectedOptions(pa)[0];ua&&r.toggleItem(ua);}r.toggleItem(sa);}oa.updateSelector(pa);},toggle:function(pa){u.toggle(m.scry(ea(pa),'div.wrap')[0]);},updateSelector:function(pa){var qa=oa.getOptions(pa),ra=oa.getSelectedOptions(pa),sa=ha(pa).options,ta=[],ua=[];for(var va=0,wa=qa.length;va<wa;va++){var xa=x(ra,qa[va]);sa[va+1].selected=xa;if(xa){var ya=oa.getOptionText(qa[va]);ta.push(ya);ua.push(qa[va].getAttribute('data-tooltip')||ya);}}sa[0].selected=!ra.length;var za=k.hasClass(pa,'uiSelectorDynamicLabel'),ab=k.hasClass(pa,'uiSelectorDynamicTooltip');if(za||ab){var bb='';if(ka(pa)){var cb=oa.getSelectorButton(pa);bb=cb.getAttribute('data-delimiter')||', ';}ta=ta.join(bb);ua=ua.join(bb);if(za){oa.setButtonLabel(pa,ta);oa.updateButtonARIALabel(pa,ta);}ab&&oa.setButtonTooltip(pa,ua);}}});e.exports=oa;});
__d("SubscriptionsHandler",["JSLogger","copyProperties"],function(a,b,c,d,e,f){var g=b('JSLogger'),h=b('copyProperties'),i=g.create('subscriptions_handler');function j(k){this._name=k||'unnamed';this._subscriptions=[];}h(j.prototype,{addSubscriptions:function(){if(this._subscriptions){Array.prototype.push.apply(this._subscriptions,arguments);}else{i.warn(this._name+'.subscribe_while_released');for(var k=0,l=arguments.length;k<l;k++)this._unsubscribe(arguments[k]);}},engage:function(){this._subscriptions=this._subscriptions||[];},release:function(){if(this._subscriptions)this._subscriptions.forEach(this._unsubscribe.bind(this));this._subscriptions=null;},_unsubscribe:function(k){if(k.remove){k.remove();}else if(k.reset){k.reset();}else if(k.unsubscribe){k.unsubscribe();}else i.error(this._name+'.invalid',k);}});e.exports=j;});
__d("TextInputControl",["Event","function-extensions","Class","DOMControl","Input","copyProperties","debounce"],function(a,b,c,d,e,f){var g=b('Event');b('function-extensions');var h=b('Class'),i=b('DOMControl'),j=b('Input'),k=b('copyProperties'),l=b('debounce');function m(n){this.parent.construct(this,n);var o=this.getRoot(),p=l(this.update.bind(this),0);g.listen(o,{input:p,keydown:p,paste:p});}h.extend(m,i);k(m.prototype,{setMaxLength:function(n){j.setMaxLength(this.getRoot(),n);return this;},getValue:function(){return j.getValue(this.getRoot());},isEmpty:function(){return j.isEmpty(this.getRoot());},setValue:function(n){j.setValue(this.getRoot(),n);this.update();return this;},clear:function(){return this.setValue('');},setPlaceholderText:function(n){j.setPlaceholder(this.getRoot(),n);return this;}});e.exports=m;});
__d("TextMetrics",["Event","DOM","Style","UserAgent","debounce"],function(a,b,c,d,e,f){var g=b('Event'),h=b('DOM'),i=b('Style'),j=b('UserAgent'),k=b('debounce'),l;function m(){if(typeof l==='undefined'){var o=h.create('div',{className:'webkitZoomTest'}),p=function(){h.appendContent(document.body,o);l=100/o.clientHeight;h.remove(o);};g.listen(window,'resize',k(p,100));p();}return l;}function n(o,p){this._node=o;this._flexible=!!p;var q='textarea',r='textMetrics';if(this._flexible){q='div';r+=' textMetricsInline';}this._shadow=h.create(q,{className:r});var s=['fontSize','fontStyle','fontWeight','fontFamily','wordWrap'];s.forEach(function(u){i.set(this._shadow,u,i.get(o,u));}.bind(this));var t=i.get(o,'lineHeight');if(j.chrome()||j.webkit())t=Math.round(parseInt(t,10)*m())+'px';i.set(this._shadow,'lineHeight',t);document.body.appendChild(this._shadow);}n.prototype.measure=function(o){var p=this._node,q=this._shadow;o=(o||p.value)+'...';if(!this._flexible){var r=p.clientWidth-i.getFloat(p,'paddingLeft')-i.getFloat(p,'paddingRight');i.set(q,'width',Math.max(r,0)+'px');}h.setContent(q,o);return {width:q.scrollWidth,height:q.scrollHeight};};n.prototype.destroy=function(){h.remove(this._shadow);};e.exports=n;});
__d("TextAreaControl",["Event","Arbiter","ArbiterMixin","Class","CSS","DOMControl","Style","TextInputControl","TextMetrics","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('ArbiterMixin'),j=b('Class'),k=b('CSS'),l=b('DOMControl'),m=b('Style'),n=b('TextInputControl'),o=b('TextMetrics'),p=b('copyProperties');function q(s,t){return m.getFloat(s,t)||0;}function r(s){this.autogrow=k.hasClass(s,'uiTextareaAutogrow');this.parent.construct(this,s);this.width=null;g.listen(s,'focus',this._handleFocus.bind(this));}j.extend(r,n);p(r.prototype,i,{setAutogrow:function(s){this.autogrow=s;return this;},onupdate:function(){this.parent.onupdate();if(this.autogrow){var s=this.getRoot();if(!this.metrics)this.metrics=new o(s);if(typeof this.initialHeight==='undefined'){this.isBorderBox=m.get(s,'box-sizing')==='border-box'||m.get(s,'-moz-box-sizing')==='border-box'||m.get(s,'-webkit-box-sizing')==='border-box';this.borderBoxOffset=q(s,'padding-top')+q(s,'padding-bottom')+q(s,'border-top-width')+q(s,'border-bottom-width');this.initialHeight=s.offsetHeight-this.borderBoxOffset;}var t=this.metrics.measure(),u=Math.max(this.initialHeight,t.height);if(this.isBorderBox)u+=this.borderBoxOffset;if(u!==this.height){this.height=u;m.set(s,'height',u+'px');h.inform('reflow');this.inform('resize');}}else if(this.metrics){this.metrics.destroy();this.metrics=null;}},resetHeight:function(){this.height=-1;this.update();},_handleFocus:function(){this.width=null;}});r.getInstance=function(s){return l.getInstance(s)||new r(s);};e.exports=r;});
__d("Typeahead",["ArbiterMixin","BehaviorsMixin","DOM","DataStore","Event","Parent","Run","copyProperties","emptyFunction","ge"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('BehaviorsMixin'),i=b('DOM'),j=b('DataStore'),k=b('Event'),l=b('Parent'),m=b('Run'),n=b('copyProperties'),o=b('emptyFunction'),p=b('ge');function q(r,s,t,u){this.args={data:r,view:s,core:t};j.set(u,'Typeahead',this);this.element=u;}q.getInstance=function(r){var s=l.byClass(r,'uiTypeahead');return s?j.get(s,'Typeahead'):null;};n(q.prototype,g,h,{init:function(r){this.init=o;this.getCore();this.getView().setAccessibilityControlElement(this.getCore().getElement());this.proxyEvents();this.initBehaviors(r||[]);this.inform('init',this);this.data.bootstrap();this.core.focus();},getData:function(){if(!this.data){var r=this.args.data;this.data=r;this.data.init();}return this.data;},getView:function(){if(!this.view){var r=this.args.view,s=r.node||p(r.node_id);if(!s){s=i.create('div',{className:'uiTypeaheadView'});i.appendContent(this.element,s);}if(typeof r.ctor==='string'){this.view=new window[r.ctor](s,r.options||{});}else this.view=new r.ctor(s,r.options||{});this.view.init();this.view.setTypeahead(this.element);}return this.view;},getCore:function(){if(!this.core){var r=this.args.core;if(typeof r.ctor==='string'){this.core=new window[r.ctor](r.options||{});}else this.core=new r.ctor(r.options||{});this.core.init(this.getData(),this.getView(),this.getElement());}return this.core;},getElement:function(){return this.element;},swapData:function(r){var s=this.core;this.data=this.args.data=r;r.init();if(s){s.data=r;s.initData();s.reset();}r.bootstrap();return r;},proxyEvents:function(){[this.data,this.view,this.core].forEach(function(r){r.subscribe(r.events,this.inform.bind(this));},this);},initBehaviors:function(r){r.forEach(function(s){if(typeof s==='string'){if(a.TypeaheadBehaviors&&a.TypeaheadBehaviors[s]){a.TypeaheadBehaviors[s](this);}else m.onLoad(function(){if(a.TypeaheadBehaviors)(a.TypeaheadBehaviors[s]||o)(this);}.bind(this));}else this.enableBehavior(s);},this);}});q.initNow=function(r,s,t){if(t)t.init(r);r.init(s);};q.init=function(r,s,t,u){if(!i.isNodeOfType(r,['input','textarea']))r=i.scry(r,'input')[0]||i.scry(r,'textarea')[0];var v=false;try{v=document.activeElement===r;}catch(w){}if(v){q.initNow(s,t,u);}else var x=k.listen(r,'focus',function(){q.initNow(s,t,u);x.remove();});};e.exports=q;});
__d("StickyPlaceholderInput",["Event","CSS","DOM","Input","Parent","emptyFunction"],function(a,b,c,d,e,f){var g=b('Event'),h=b('CSS'),i=b('DOM'),j=b('Input'),k=b('Parent'),l=b('emptyFunction');function m(q){return k.byClass(q,'uiStickyPlaceholderInput');}function n(q){return i.scry(q,'.placeholder')[0];}function o(q){q=q||window.event;var r=q.target||q.srcElement;if(i.isNodeOfType(r,['input','textarea'])){var s=m(r);if(s){var t=q.type;(function(){if((t==='keydown'||t==='paste')&&r.value.length)h.removeClass(s,'uiStickyPlaceholderEmptyInput');if((t==='blur'||t==='focusout')&&!r.value.length)h.addClass(s,'uiStickyPlaceholderEmptyInput');}).defer();}}}var p={init:function(){p.init=l;g.listen(document.documentElement,{keydown:o,paste:o,focusout:o});},registerInput:function(q){p.init();var r=q.getAttribute('placeholder')||'';if(r.length)if(document.activeElement===q){var s=g.listen(q,'blur',function(){p.manipulateInput(q,r);s.remove();});}else p.manipulateInput(q,r);},manipulateInput:function(q,r){var s=i.create('div',{className:'placeholder','aria-hidden':'true'},r),t=i.create('div',{className:'uiStickyPlaceholderInput'},s);if(i.isNodeOfType(q,'textarea'))h.addClass(t,'uiStickyPlaceholderTextarea');g.listen(s,'click',function(){q.focus();});if(q.value===r)q.value='';h.removeClass(q,'DOMControl_placeholder');q.setAttribute('placeholder','');i.replace(q,t);i.appendContent(t,q);h.conditionClass(t,'uiStickyPlaceholderEmptyInput',!q.value.length);},setPlaceholderText:function(q,r){var s=m(q);if(!s){j.setPlaceholder(q,r);}else{var t=n(s);t&&i.setContent(t,r);}},getPlaceholderText:function(q){var r=m(q),s=n(r);return s&&i.getText(s);},update:function(q){var r=m(q);if(r)h.conditionClass(r,'uiStickyPlaceholderEmptyInput',!q.value.length);},getVisibleText:function(q){var r=m(q);if(h.hasClass(r,'uiStickyPlaceholderEmptyInput')){var s=n(r);return s&&i.getText(s);}else return q.value;}};e.exports=p;});
__d("TypeaheadCore",["Event","Arbiter","ArbiterMixin","CSS","DOM","Input","InputSelection","Keys","StickyPlaceholderInput","UserAgent","bind","copyProperties","emptyFunction"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('ArbiterMixin'),j=b('CSS'),k=b('DOM'),l=b('Input'),m=b('InputSelection'),n=b('Keys'),o=b('StickyPlaceholderInput'),p=b('UserAgent'),q=b('bind'),r=b('copyProperties'),s=b('emptyFunction');function t(u){r(this,u);}r(t.prototype,i,{events:['blur','focus','click','unselect','loading'],keepFocused:true,resetOnSelect:false,resetOnKeyup:true,setValueOnSelect:false,queryTimeout:250,preventFocusChangeOnTab:false,init:function(u,v,w){this.init=s;this.data=u;this.view=v;this.root=w;this.initInput();this.inputWrap=k.find(w,'div.wrap');this.hiddenInput=k.find(w,'input.hiddenInput');this.value='';this.nextQuery=null;this.selectedText=null;if(this.setValueOnSelect&&j.hasClass(this.inputWrap,'selected'))this.selectedText=this.getValue();this.initView();this.initData();this.initEvents();this.initToggle();this._exclusions=[];},initInput:function(){this.element=k.find(this.root,'.textInput');var u=k.scry(this.element,'input')[0];if(u)this.element=u;},initView:function(){this.view.subscribe('highlight',function(u,v){this.element.focus();}.bind(this));this.view.subscribe('select',function(u,v){this.select(v.selected);}.bind(this));this.view.subscribe('afterSelect',function(){this.afterSelect();}.bind(this));},initData:function(){this.data.subscribe('respond',function(u,v){if(v.forceDisplay||v.value==this.getValue()&&!this.element.disabled)this.view.render(v.value,v.results,v.isAsync);}.bind(this));this.data.subscribe('activity',function(u,v){this.fetching=v.activity;if(!this.fetching)this.nextQuery&&this.performQuery();if(this.loading!=this.fetching){this.loading=this.fetching;this.inform('loading',{loading:this.loading});}}.bind(this));},initEvents:function(){g.listen(this.view.getElement(),{mouseup:this.viewMouseup.bind(this),mousedown:this.viewMousedown.bind(this)});var u={blur:q(this,'blur'),focus:q(this,'focus'),click:q(this,'click'),keyup:q(this,'keyup'),keydown:q(this,'keydown')};if(p.firefox())u.text=u.keyup;if(p.firefox()<4){u.keypress=u.keydown;delete u.keydown;}g.listen(this.element,u);g.listen(this.element,'keypress',q(this,'keypress'));},initToggle:function(){this.subscribe('blur',this.view.hide.bind(this.view));this.subscribe('focus',this.view.show.bind(this.view));},viewMousedown:function(){this.selecting=true;},viewMouseup:function(){this.selecting=false;},blur:function(){if(this.selecting){this.selecting=false;return;}this.inform('blur');},click:function(){var u=m.get(this.element);if(u.start==u.end)this.element.select();this.inform('click');},focus:function(){this.checkValue();this.inform('focus');},keyup:function(){if(this.resetOnKeyup&&!this.getValue())this.view.reset();this.checkValue();},keydown:function(event){if(!this.view.isVisible()||this.view.isEmpty()){this.checkValue.bind(this).defer();return;}switch(g.getKeyCode(event)){case n.TAB:this.handleTab(event);return;case n.UP:this.view.prev();break;case n.DOWN:this.view.next();break;case n.ESC:this.view.reset();break;default:this.checkValue.bind(this).defer();return;}event.kill();},keypress:function(event){if(this.view.getSelection()&&g.getKeyCode(event)==n.RETURN){this.view.select();event.kill();}},handleTab:function(event){if(this.preventFocusChangeOnTab)if(this.view.getSelection()){event.kill();}else event.prevent();this.view.select();},select:function(u){if(u&&this.setValueOnSelect){this.setValue(u.text);this.setHiddenValue(u.uid);this.selectedText=u.text;j.addClass(this.inputWrap,'selected');}},afterSelect:function(){this.keepFocused?this.element.focus():this.element.blur();this.resetOnSelect?this.reset():this.view.reset();},unselect:function(){if(this.setValueOnSelect){this.selectedText=null;j.removeClass(this.inputWrap,'selected');}this.setHiddenValue();this.inform('unselect',this);},setEnabled:function(u){var v=u===false;this.element.disabled=v;j.conditionClass(this.root,'uiTypeaheadDisabled',v);},reset:function(){this.unselect();this.setValue();!this.keepFocused&&l.reset(this.element);this.view.reset();this.inform('reset');},getElement:function(){return this.element;},setExclusions:function(u){this._exclusions=u;},getExclusions:function(){return this._exclusions;},setValue:function(u){this.value=this.nextQuery=u||'';l.setValue(this.element,this.value);o.update(this.element);},setHiddenValue:function(u){this.hiddenInput.value=(u||u===0)?u:'';h.inform('Form/change',{node:this.hiddenInput});},getValue:function(){return l.getValue(this.element);},getHiddenValue:function(){return this.hiddenInput.value||'';},checkValue:function(){var u=this.getValue();if(u==this.value)return;if(this.selectedText&&this.selectedText!=u)this.unselect();var v=Date.now(),w=v-this.time;this.time=v;this.value=this.nextQuery=u;this.performQuery(w);},performQuery:function(u){if(this.selectedText)return;u=u||0;if(this.fetching&&u<this.queryTimeout){this.data.query(this.nextQuery,true,this._exclusions,u);}else{this.data.query(this.nextQuery,false,this._exclusions,u);this.nextQuery=null;}}});e.exports=t;});
__d("guid",[],function(a,b,c,d,e,f){function g(){return 'f'+(Math.random()*(1<<30)).toString(16).replace('.','');}e.exports=g;});
__d("reportData",["EagleEye","userAction"],function(a,b,c,d,e,f){var g=b('EagleEye'),h=b('userAction');function i(j,k){k=k||{};var l={ft:(k.ft||{}),gt:(k.gt||{})},m='-',n=a.ArbiterMonitor,o=(!!n)?n.getActFields():[],p=(!n)?'r':'a',q=[Date.now(),h.getCurrentUECount(),m,j,m,m,p,a.URI?a.URI.getRequestURI(true,true).getUnqualifiedURI().toString():location.pathname+location.search+location.hash,l,0,0,0,0].concat(o);g.log('act',q);}e.exports=i;});
__d("TypeaheadBestName",["TypeaheadUtil","copyProperties"],function(a,b,c,d,e,f){var g=b('TypeaheadUtil'),h=b('copyProperties');function i(j){this._typeahead=j;}h(i.prototype,{_subscription:null,enable:function(){var j=this._typeahead.getView();this._subscription=j.subscribe('beforeRender',function(k,l){var m=l.value;for(var n=0;n<l.results.length;++n){var o=l.results[n];if(o.alternate_names==null)continue;if(g.isQueryMatch(m,o.default_name)){o.text=o.default_name;return;}for(var p=0;p<o.alternate_names.length;p++)if(g.isQueryMatch(m,o.alternate_names[p])){o.text=o.alternate_names[p];return;}o.text=o.default_name;}});},disable:function(){this._typeahead.getView().unsubscribe(this._subscription);this._subscription=null;}});e.exports=i;});
__d("legacy:BestNameTypeaheadBehavior",["TypeaheadBestName"],function(a,b,c,d){var e=b('TypeaheadBestName');if(!a.TypeaheadBehaviors)a.TypeaheadBehaviors={};a.TypeaheadBehaviors.buildBestAvailableNames=function(f){f.enableBehavior(e);};},3);
__d("UIIntentionalStreamMessage",[],function(a,b,c,d,e,f){var g={SET_AUTO_INSERT:'UIIntentionalStream/setAutoInsert',UPDATE_STREAM:'UIIntentionalStreamRefresh/updateStream',REFRESH_STREAM:'UIIntentionalStreamRefresh/refreshStream',UPDATE_AUTOREFRESH_CONFIG:'UIIntentionalStream/updateAutoRefreshConfig',UPDATE_HTML_CONTENT:'UIIntentionalStream/updateHtmlContent',UPDATE_LAST_REFRESH_TIME:'UIIntentionalStream/updateLastRefreshTime',INSERT_STORIES:'UIIntentionalStream/updateLastRefreshTime',UNLOAD:'UIIntentionalStream/unload'};e.exports=g;});
__d("AccessibleLayer",["Event","DOM","Focus","copyProperties","tx"],function(a,b,c,d,e,f){var g=b('Event'),h=b('DOM'),i=b('Focus'),j=b('copyProperties'),k=b('tx');function l(m){this._layer=m;}j(l.prototype,{enable:function(){this._afterShowSubscription=this._layer.subscribe('aftershow',this._onAfterShow.bind(this));},disable:function(){this._listener&&this._listener.remove();this._afterShowSubscription.unsubscribe();this._listener=this._afterShowSubscription=null;},_closeListener:function(event){var m=this._layer.getCausalElement();if(m)if(m.tabIndex==-1){m.tabIndex=0;i.setWithoutOutline(m);}else i.set(m);this._layer.hide();},_onAfterShow:function(){var m=this._layer.getContentRoot();if(h.scry(m,'.layer_close_elem')[0])return;var n=h.create('a',{className:'accessible_elem layer_close_elem',href:'#'},["Chiudi finestra e torna indietro"]);h.appendContent(m,n);this._listener=g.listen(n,'click',this._closeListener.bind(this));}});e.exports=l;});
__d("ContextualLayerAsyncRelative",["Event","copyProperties","Parent"],function(a,b,c,d,e,f){var g=b('Event'),h=b('copyProperties'),i=b('Parent');function j(k){this._layer=k;}h(j.prototype,{_layerSubscription:null,_listener:null,enable:function(){this._layerSubscription=this._layer.subscribe('show',this._attachListener.bind(this));if(this._layer.isShown())this._attachListener();},disable:function(){this._layerSubscription.unsubscribe();this._layerSubscription=null;if(this._listener){this._listener.remove();this._listener=null;}},_attachListener:function(){this._listener=g.listen(this._layer.getRoot(),'click',this._onclick.bind(this));},_onclick:function(k){var l=i.byTag(k.getTarget(),'A');if(!l)return;var m=l.getAttribute('ajaxify'),n=l.href,o=m||n;if(l.rel==='async'||l.rel==='async-post'){d(['AsyncRequest'],function(p){p.bootstrap(o,this._layer.getContext(),l.rel==='async-post');}.bind(this));return false;}}});e.exports=j;});
__d("ContextualLayerUpdateOnScroll",["Event","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('copyProperties');function i(j){this._layer=j;}h(i.prototype,{_subscriptions:[],enable:function(){this._subscriptions=[this._layer.subscribe('show',this._attachScrollListener.bind(this)),this._layer.subscribe('hide',this._removeScrollListener.bind(this))];},disable:function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this.detach();},_attachScrollListener:function(){if(this._listener)return;var j=this._layer.getContextScrollParent();this._listener=g.listen(j,'scroll',this._layer.updatePosition.bind(this._layer));},_removeScrollListener:function(){this._listener&&this._listener.remove();this._listener=null;}});e.exports=i;});
__d("LayerAutoFocus",["function-extensions","DOMQuery","Focus","TabbableElements","copyProperties"],function(a,b,c,d,e,f){b('function-extensions');var g=b('DOMQuery'),h=b('Focus'),i=b('TabbableElements'),j=b('copyProperties');function k(l){this._layer=l;}j(k.prototype,{_subscription:null,enable:function(){this._subscription=this._layer.subscribe('aftershow',this._focus.bind(this));},disable:function(){this._subscription.unsubscribe();this._subscription=null;},_focus:function(){var l=this._layer.getRoot(),m=g.scry(l,'.autofocus')[0],n=true;if(!m){var o=document.activeElement;if(g.isNodeOfType(o,['input','textarea']))return;var p=i.find(l);for(var q=0;q<p.length;q++)if(p[q].tagName!='A'){m=p[q];n=false;break;}}if(m){n?h.set(m):h.setWithoutOutline(m);}else{l.tabIndex=0;h.setWithoutOutline(l);}}});e.exports=k;});
__d("ModalLayer",["Event","function-extensions","Arbiter","CSS","DataStore","DOM","DOMDimensions","DOMQuery","ScrollAwareDOM","Style","URI","UserAgent","Vector","copyProperties","csx","cx","debounceAcrossTransitions","isAsyncScrollQuery","removeFromArray"],function(a,b,c,d,e,f){var g=b('Event');b('function-extensions');var h=b('Arbiter'),i=b('CSS'),j=b('DataStore'),k=b('DOM'),l=b('DOMDimensions'),m=b('DOMQuery'),n=b('ScrollAwareDOM'),o=b('Style'),p=b('URI'),q=b('UserAgent'),r=b('Vector'),s=b('copyProperties'),t=b('csx'),u=b('cx'),v=b('debounceAcrossTransitions'),w=b('isAsyncScrollQuery'),x=b('removeFromArray'),y=[],z=null,aa=null,ba=null;function ca(){if(!ba)ba=m.scry(document.body,"._li")[0];return ba;}function da(ja){var ka={position:r.getScrollPosition()},la=ja.offsetTop-ka.position.y;i.addClass(ja,"_31e");o.set(ja,'top',la+'px');h.inform('reflow');ka.listener=n.subscribe('scroll',function(ma,na){if(m.contains(ja,na.target)){var oa=ja.offsetTop-na.delta.y;o.set(ja,'top',oa+'px');ka.position=ka.position.add(na.delta);return false;}});j.set(ja,'ModalLayerData',ka);if(q.firefox()<13)ea.curry(ja).defer();}function ea(ja){m.scry(ja,'div.swfObject').forEach(function(ka){var la=ka.getAttribute('data-swfid');if(la&&window[la]){var ma=window[la];ma.addParam('autostart','false');ma.addParam('autoplay','false');ma.addParam('play','false');ma.addVariable('video_autoplay','0');ma.addVariable('autoplay','0');ma.addVariable('play','0');var na=p(ma.getAttribute('swf'));na.addQueryData({autoplay:'0'});na.setPath(na.getPath().replace('autoplay=1','autoplay=0'));ma.setAttribute('swf',na.toString());ma.write(ka);}});}function fa(ja,ka){var la=j.get(ja,'ModalLayerData');if(la){var ma=function(){i.removeClass(ja,"_31e");o.set(ja,'top','');if(ka){var pa=m.getDocumentScrollElement();pa.scrollTop=la.position.y;}h.inform('reflow');la.listener.unsubscribe();la.listener=null;j.remove(ja,'ModalLayerData');};if(ka&&w()){var na=k.create('div',{className:"_42w"});o.set(na,'height',ja.offsetHeight+'px');k.appendContent(document.body,na);var oa=m.getDocumentScrollElement();oa.scrollTop=la.position.y;ka=false;!function(){ma();k.remove(na);}.defer();}else ma();}if(q.ie()<7)o.set(ja,'height','');}function ga(){var ja;if(q.ie()<7){var ka=y[y.length-1].getLayerRoot(),la=Math.max(ka.offsetHeight,ka.scrollHeight);ja=function(ra){o.set(ra,'height',(-ra.offsetTop+la)+'px');};}var ma=y.length;while(ma--){var na=y[ma],oa=na.getLayerRoot();ha(oa,'');var pa=na.getLayerContentRoot(),qa=pa.offsetWidth+l.measureElementBox(pa,'width',0,0,1);ha(oa,qa);if(ja&&ma<y.length-1)ja(oa);}ja&&ja(ca());}function ha(ja,ka){var la=q.ie()<7;if(la&&ka&&ka<=document.body.clientWidth)ka='';o.set(ja,la?'width':'min-width',ka+(ka?'px':''));}function ia(ja){this._layer=ja;}s(ia.prototype,{_subscription:null,enable:function(){if(!ca())return;this._subscription=this._layer.subscribe(['show','hide'],function(ja){ja=='show'?this._addModal():this._removeModal();}.bind(this));if(this._layer.isShown())this._addModal();},disable:function(){if(!ca())return;this._subscription.unsubscribe();this._subscription=null;if(this._layer.isShown())this._removeModal();},_addModal:function(){i.addClass(this.getLayerRoot(),"_3qw");var ja=y[y.length-1],ka=ja?ja.getLayerRoot():ca();da(ka);var la=m.getDocumentScrollElement();la.scrollTop=0;if(!y.length){if(q.ie()<7)i.addClass(document.documentElement,"_31d");var ma=v(ga,100);z=g.listen(window,'resize',ma);aa=h.subscribe('reflow',ma);}y.push(this);ga.defer();},_removeModal:function(){var ja=this.getLayerRoot();i.removeClass(ja,"_3qw");ha(ja,'');var ka=this===y[y.length-1];x(y,this);var la=y[y.length-1];if(!la){z.remove();z=null;aa.unsubscribe();aa=null;}var ma=la?la.getLayerRoot():ca();!function(){fa(ma,ka);if(y.length){ga.defer();}else if(q.ie()<7)i.removeClass(document.documentElement,"_31d");}.defer(400,false);},getLayerRoot:function(){return this._layer.getRoot();},getLayerContentRoot:function(){return this._layer.getContentRoot();}});e.exports=ia;});
__d("ContextualDialogArrow",["JSXDOM","CSS","DOM","Locale","Style","Vector","copyProperties","cx"],function(a,b,c,d,e,f){var g=b('JSXDOM'),h=b('CSS'),i=b('DOM'),j=b('Locale'),k=b('Style'),l=b('Vector'),m=b('copyProperties'),n=b('cx'),o={bottom:"_53ik",top:"_53il",right:"_53im",left:"_53in"},p={above:'bottom',below:'top',left:'right',right:'left'};function q(r){this._layer=r;}m(q.prototype,{_subscription:null,_arrow:null,enable:function(){this._subscription=this._layer.subscribe(['adjust','reposition'],this._handle.bind(this));},disable:function(){this._subscription.unsubscribe();this._subscription=null;},_handle:function(r,s){if(r==='adjust'){this._repositionArrow(s);}else this._repositionRoot(s);},_repositionRoot:function(r){var s=r.getAlignment();if(s=='center')return;var t=this._layer.getRoot(),u=this._layer.getContext(),v=r.isVertical(),w=this._layer.getArrowDimensions(),x=w.offset,y=w.length,z=l.getElementDimensions(u),aa=v?z.x:z.y;if(aa>=y+(x*2))return;var ba=(y/2)+x,ca=aa/2,da=parseInt(ba-ca,10);if(v){if(s=='left'){var ea=parseInt(k.get(t,'left'),10);k.set(t,'left',(ea-da)+'px');}else{var fa=parseInt(k.get(t,'right'),10);k.set(t,'right',(fa-da)+'px');}}else{var ga=parseInt(k.get(t,'top'),10);k.set(t,'top',(ga-da)+'px');}},_repositionArrow:function(r){var s=this._layer._contentWrapper,t=r.getPosition(),u=p[t];for(var v in o)h.conditionClass(s,o[v],u===v);if(t=='none')return;if(!this._arrow){this._arrow=g.i({className:"_53io"});i.appendContent(s,this._arrow);}h.conditionClass(s,"_kc",this._layer.getFooter());k.set(this._arrow,'top','');k.set(this._arrow,'left','');k.set(this._arrow,'right','');k.set(this._arrow,'margin','');var w=q.getOffsetPercent(r),x=q.getOffset(r,w,this._layer),y=q.getOffsetSide(r);k.set(this._arrow,y,w+'%');k.set(this._arrow,'margin-'+y,x+'px');}});m(q,{getOffsetPercent:function(r){var s=r.getAlignment(),t=r.getPosition();if(t=='above'||t=='below')if(s=='center'){return 50;}else if(s=='right')return 100;return 0;},getOffsetSide:function(r){var s=r.isVertical();return s?(j.isRTL()?'right':'left'):'top';},getOffset:function(r,s,t){var u=t.getArrowDimensions(),v=u.offset,w=u.length,x=r.getAlignment(),y=(x=='center')?0:v;y+=w*s/100;if(x!='left')y*=-1;return y;}});e.exports=q;});
__d("ContextualDialogFitInViewport",["Event","ContextualLayerDimensions","Style","Vector","copyProperties","throttle"],function(a,b,c,d,e,f){var g=b('Event'),h=b('ContextualLayerDimensions'),i=b('Style'),j=b('Vector'),k=b('copyProperties'),l=b('throttle');function m(n){this._layer=n;this._listeners=[];}k(m.prototype,{_subscription:null,_minimumTop:null,enable:function(){var n=this._layer.getArrowDimensions();this._arrowOffset=n.offset;var o=n.length;this._arrowBuffer=this._arrowOffset+o;this._subscription=this._layer.subscribe(['show','hide','reposition'],function(p,q){if(p=='reposition'){this._calculateMinimumTop(q);}else if(p=='show'){this._attachScroll();this._adjustForScroll();}else this._detachScroll();}.bind(this));if(this._layer.isShown())this._attachScroll();},disable:function(){if(this._layer.isShown())this._detachScroll();this._subscription.unsubscribe();this._subscription=null;},_attachScroll:function(){var n=l(this._adjustForScroll.bind(this)),o=this._layer.getContextScrollParent()||window;this._listeners=[g.listen(o,'scroll',n),g.listen(window,'resize',n)];},_detachScroll:function(){while(this._listeners.length)this._listeners.pop().remove();this._listeners=[];},_getContentHeight:function(){return j.getElementDimensions(this._layer._contentWrapper).y;},_getContextY:function(){return j.getElementPosition(this._layer.getContext()).y;},_calculateMinimumTop:function(n){if(n.isVertical())return;this._minimumTop=(this._getContextY()-(this._getContentHeight()-this._arrowBuffer)+n.getOffsetY());},_adjustForScroll:function(){if(this._layer.isFixed())return;var n=this._layer._getOrientation();if(n.isVertical())return;var o=h.getViewportRect(this._layer),p=o.b-this._minimumTop;if(p<0)return;var q=this._getContentHeight(),r=q-(this._arrowBuffer+this._arrowOffset),s=Math.max(0,Math.min(r,r-(p-q)));i.set(this._layer.getContent(),'top',-s+'px');}});e.exports=m;});
__d("ContextualDialogDefaultTheme",["cx"],function(a,b,c,d,e,f){var g=b('cx'),h={wrapperClassName:"_53ip",arrowDimensions:{offset:15,length:16}};e.exports=h;});
__d("ContextualDialog",["AccessibleLayer","Class","ContextualDialogArrow","ContextualDialogFitInViewport","ContextualLayer","ContextualDialogDefaultTheme","CSS","DOM","LayerAutoFocus","LayerButtons","LayerHideOnTransition","LayerFormHooks","LayerMouseHooks","Style","copyProperties","csx","cx","removeFromArray"],function(a,b,c,d,e,f){var g=b('AccessibleLayer'),h=b('Class'),i=b('ContextualDialogArrow'),j=b('ContextualDialogFitInViewport'),k=b('ContextualLayer'),l=b('ContextualDialogDefaultTheme'),m=b('CSS'),n=b('DOM'),o=b('LayerAutoFocus'),p=b('LayerButtons'),q=b('LayerHideOnTransition'),r=b('LayerFormHooks'),s=b('LayerMouseHooks'),t=b('Style'),u=b('copyProperties'),v=b('csx'),w=b('cx'),x=b('removeFromArray');function y(z,aa){this.parent.construct(this,z,aa);}h.extend(y,k);u(y.prototype,{_footer:null,_configure:function(z,aa){u(z,z.theme||l);var ba=z.arrowBehavior||i;z.addedBehaviors=z.addedBehaviors||[];z.addedBehaviors.push(ba);var ca=n.scry(aa,"div._k7");if(ca.length)this._footer=ca[0];this.parent._configure(z,aa);},_getDefaultBehaviors:function(){var z=this.parent._getDefaultBehaviors();x(z,q);return z.concat([g,o,j,p,r,s]);},_buildWrapper:function(z,aa){m.addClass(aa,"_53ij");var ba=this.parent._buildWrapper(z,aa);m.addClass(ba,z.wrapperClassName);if(z.width)this.setWidth(z.width);return ba;},setWidth:function(z){this._width=Math.floor(z);t.set(this._contentWrapper,'width',z+'px');return this;},getFooter:function(){return this._footer;},getArrowDimensions:function(){return this._config.arrowDimensions;}});u(y,{setContext:function(z,aa){z.setContext(aa);}});e.exports=y;});
__d("ContextualDialogFooterLink",["Event","copyProperties","CSS","DOM"],function(a,b,c,d,e,f){var g=b('Event'),h=b('copyProperties'),i=b('CSS'),j=b('DOM');function k(l){this._layer=l;}h(k.prototype,{_subscriptions:null,enable:function(){var l=this._layer.getRoot(),m=j.scry(l,'.uiContextualDialogFooterLink')[0],n='uiContextualDialogHoverFooterArrow';this._subscriptions=[g.listen(m,'mouseenter',i.addClass.curry(l,n)),g.listen(m,'mouseleave',i.removeClass.curry(l,n))];},disable:function(){this._subscriptions.forEach(function(l){l.remove();});this._subscriptions=null;}});e.exports=k;});
__d("DialogX",["function-extensions","Arbiter","ArbiterMixin","Class","ContextualThing","CSS","DOM","Event","Layer","LayerAutoFocus","LayerButtons","LayerFormHooks","LayerTabIsolation","ModalLayer","Style","UserAgent","Vector","copyProperties","cx","debounce","getOverlayZIndex","shield"],function(a,b,c,d,e,f){b('function-extensions');var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('Class'),j=b('ContextualThing'),k=b('CSS'),l=b('DOM'),m=b('Event'),n=b('Layer'),o=b('LayerAutoFocus'),p=b('LayerButtons'),q=b('LayerFormHooks'),r=b('LayerTabIsolation'),s=b('ModalLayer'),t=b('Style'),u=b('UserAgent'),v=b('Vector'),w=b('copyProperties'),x=b('cx'),y=b('debounce'),z=b('getOverlayZIndex'),aa=b('shield'),ba=40;function ca(ea,fa){this.parent.construct(this,ea,fa);}i.extend(ca,n);w(ca,h);w(ca.prototype,{_modal:false,_ie:null,_wrapper:null,_configure:function(ea,fa){this.parent._configure(ea,fa);if(ea.modal){k.conditionClass(this.getRoot(),"_4-hy",ea.xui);this.enableModal();}if(ea.autohide)var ga=this.subscribe('show',function(){ga.unsubscribe();aa(this.hide,this).defer(ea.autohide);}.bind(this));},_getDefaultBehaviors:function(){return this.parent._getDefaultBehaviors().concat([da,o,p,q,r]);},_buildWrapper:function(ea,fa){var ga=ea.xui?"_4-hz":"_t",ha=ea.xui?"_4-h-":"_1yv",ia=l.create('div',{className:ga},fa),ja;this._ie=u.ie();if(ea.xui){ja=ia;}else if(this._ie>6&&this._ie<9){ja=[l.create('div',{className:"_u"}),l.create('div',{className:"_v"}),l.create('div',{className:"_w"}),l.create('div',{className:"_x"}),l.create('div',{className:"_y"}),l.create('div',{className:"_z"}),ia];}else ja=l.create('div',{className:"_1yu"},ia);this._wrapper=l.create('div',{className:ha,role:'dialog'},ja);if(ea.titleID)this._wrapper.setAttribute('aria-labelledby',ea.titleID);this.setWidth(ea.width);return l.create('div',{className:"_10",role:'dialog'},this._wrapper);},enableModal:function(){this._modal=true;this.enableBehavior(s);return this;},getContentRoot:function(){return this._wrapper;},_setModalityBasedOnVerticalSpace:function(ea){if(!this._modal)if(ea<=ba){this.enableBehavior(s);}else this.disableBehavior(s);},reflowUpdate:function(){var ea=v.getViewportDimensions().y-v.getElementDimensions(this._wrapper).y-this._lastTopMargin;this._setModalityBasedOnVerticalSpace(ea);},updatePosition:function(){var ea=v.getViewportDimensions().y-v.getElementDimensions(this._wrapper).y,fa;if(ea<250){if(ea>80){fa=ea/2;}else fa=40;}else fa=125;this._lastTopMargin=fa;this._setModalityBasedOnVerticalSpace(fa);if(this._ie<7){var ga=v.getScrollPosition().y;t.set(this._wrapper,'top',fa+ga+'px');}else t.set(this._wrapper,'margin-top',fa+'px');if(this._causalElement){var ha=z(this._causalElement,this.getInsertParent()),ia=this._causalElement;while(!ha&&(ia=j.getContext(ia)))ha=z(ia,this.getInsertParent());t.set(this.getRoot(),'z-index',ha>200?ha:'');}this.inform('update_position',{type:'DialogX',top:fa});},setWidth:function(ea){ea=Math.floor(ea);if(ea===this._width)return;this._width=ea;if(this._ie>6&&this._ie<9)ea-=20;t.set(this._wrapper,'width',ea+'px');}});function da(ea){this._layer=ea;}w(da.prototype,{_subscription:null,_resize:null,enable:function(){this._subscription=this._layer.subscribe(['show','hide'],function(ea){if(ea==='show'){this._attach();g.inform('layer_shown',{type:'DialogX'});}else{this._detach();g.inform('layer_hidden',{type:'DialogX'});}}.bind(this));},disable:function(){this._subscription.unsubscribe();this._subscription=null;this._resize&&this._detach();},_attach:function(){this._layer.updatePosition();this._resize=m.listen(window,'resize',y(this._layer.updatePosition.bind(this._layer)));this._reflow_listener=g.subscribe('reflow',this._layer.reflowUpdate.bind(this._layer));},_detach:function(){this._resize.remove();this._resize=null;this._reflow_listener.unsubscribe();this._reflow_listener=null;}});e.exports=ca;});
__d("AsyncDialog",["AsyncRequest","Bootloader","CSS","DialogX","DOM","Env","Parent","URI","copyProperties","cx","emptyFunction","tx"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('Bootloader'),i=b('CSS'),j=b('DialogX'),k=b('DOM'),l=b('Env'),m=b('Parent'),n=b('URI'),o=b('copyProperties'),p=b('cx'),q=b('emptyFunction'),r=b('tx'),s=new j({width:465},k.create('div',{className:"_r"},"Caricamento in corso...")),t=1,u=[],v=0;function w(){v--;if(!v)s.hide();}function x(z,aa){var ba=t++;u[ba]=aa;o(z.getData(),{__asyncDialog:ba});var ca=false;v++;s.setCausalElement(z.getRelativeTo()).show();function da(){if(!ca)w();}z.setInterceptHandler(function(fa){ca=true;w();});var ea=z.finallyHandler;z.setFinallyHandler(function(fa){var ga=fa.getPayload();if(ga&&ga.asyncURL)y.send(new g(ga.asyncURL));da();ea&&ea(fa);});z.setAbortHandler(da);z.send();}var y={send:function(z,aa){x(z,aa||q);},bootstrap:function(z,aa,ba){if(!z)return;var ca=m.byClass(aa,'stat_elem')||aa;if(ca&&i.hasClass(ca,'async_saving'))return false;var da=new n(z).getQueryData(),ea=ba==='dialog',fa=new g().setURI(z).setData(da).setMethod(ea?'GET':'POST').setReadOnly(ea).setRelativeTo(aa).setStatusElement(ca).setNectarModuleDataSafe(aa);if(l.is_desktop){h.loadModules(['FbdDialogProvider'],function(ga){ga.sendDialog(fa,y.send);});return;}y.send(fa);},respond:function(z,aa){var ba=u[z];if(ba){ba(aa);delete u[z];}},getLoadingDialog:function(){return s;}};e.exports=y;});
__d("Hovercard",["JSXDOM","Event","function-extensions","AccessibleLayer","Arbiter","AsyncRequest","AsyncSignal","ContextualDialog","ContextualThing","DOM","LayerAutoFocus","Parent","Rect","Style","UserAgent","Vector","clickRefAction","cx","emptyFunction","tx","userAction"],function(a,b,c,d,e,f){var g=b('JSXDOM'),h=b('Event');b('function-extensions');var i=b('AccessibleLayer'),j=b('Arbiter'),k=b('AsyncRequest'),l=b('AsyncSignal'),m=b('ContextualDialog'),n=b('ContextualThing'),o=b('DOM'),p=b('LayerAutoFocus'),q=b('Parent'),r=b('Rect'),s=b('Style'),t=b('UserAgent'),u=b('Vector'),v=b('clickRefAction'),w=b('cx'),x=b('emptyFunction'),y=b('tx'),z=b('userAction'),aa={},ba={},ca=null,da=null,ea=null,fa=150,ga=700,ha=1000,ia=250,ja=null,ka=null,la=null,ma=null;function na(event){var cb=q.byTag(event.getTarget(),'a');bb.processNode(cb)&&event.stop();}function oa(cb){da=cb;if(!pa(cb)){var db;if(!cb||!(db=qa(cb))){ba.moveToken&&ba.moveToken.remove();ba={};return false;}if(ba.node!=cb){ba.moveToken&&ba.moveToken.remove();ba={node:cb,endpoint:db,pos:null};}}return true;}function pa(cb){return cb&&ca&&ba.node==cb;}function qa(cb){return cb.getAttribute('data-hovercard');}function ra(cb){var db=h.listen(cb,'mouseout',function(){clearTimeout(ja);clearTimeout(ka);db.remove();da=null;if(!bb.contains(cb))bb.hide();});if(!ba.moveToken)ba.moveToken=h.listen(cb,'mousemove',function(event){ba.pos=u.getEventPosition(event);});clearTimeout(ja);clearTimeout(ka);clearTimeout(ma);var eb=fa,fb=ca?ia:ga;if(cb.getAttribute('data-hovercard-instant'))eb=fb=50;ja=setTimeout(wa.curry(cb),eb);ka=setTimeout(sa.curry(cb),fb);}function sa(cb,db){if(ba.node!=cb)return;var eb=aa[qa(cb)];if(eb){ua(eb);}else if(db){ua(ya());}else{var fb=ca?ia:ga;la=setTimeout(sa.curry(cb,true),ha-fb);}}function ta(){bb.hide(true);clearTimeout(ka);}function ua(cb){var db=ba.node,eb=ca,fb=eb!=db;if(ea){var gb=ea.getContentRoot();if(!n.containsIncludingLayers(gb,db))ea.hide();}if(!o.contains(document.body,db)){bb.hide(true);return;}ca=db;ea=cb;cb.setContextWithBounds(db,va(db)).show();if(fb)(function(){new l('/ajax/hovercard/shown.php').send();v('himp',ca,null,'FORCE',{ft:{evt:39}});z('hovercard',ca).uai('show');}).defer();}function va(cb){var db=ba.pos,eb=cb.getClientRects();if(!db||eb.length===0)return r.getElementBounds(cb);var fb,gb=false;for(var hb=0;hb<eb.length;hb++){var ib=new r(Math.round(eb[hb].top),Math.round(eb[hb].right),Math.round(eb[hb].bottom),Math.round(eb[hb].left),'viewport').convertTo('document'),jb=ib.getPositionVector(),kb=jb.add(ib.getDimensionVector());if(!fb||(jb.x<=fb.l&&jb.y>fb.t)){if(gb)break;fb=new r(jb.y,kb.x,kb.y,jb.x,'document');}else{fb.t=Math.min(fb.t,jb.y);fb.b=Math.max(fb.b,kb.y);fb.r=kb.x;}if(ib.contains(db))gb=true;}return fb;}function wa(cb){if(cb.id&&aa[cb.id]!=null)return;var db=qa(cb);if(aa[db]!=null)return;xa(db);var eb=function(){bb.dirty(db);ta();};new k(db).setData({endpoint:db}).setMethod('GET').setReadOnly(true).setErrorHandler(eb).setTransportErrorHandler(eb).send();}function xa(cb){aa[cb]=false;}var ya=function(){var cb=new m({width:275},g.div({className:"_7lk"},"Caricamento in corso..."));cb.disableBehavior(i).disableBehavior(p);za(cb);ya=x.thatReturns(cb);return cb;};function za(cb){var db=[cb.subscribe('mouseenter',function(){clearTimeout(ma);da=ba.node;}),cb.subscribe('mouseleave',function(){cb.hide();da=null;}),cb.subscribe('destroy',function(){while(db.length)db.pop().unsubscribe();db=null;})];}var ab=true,bb={hide:function(cb){if(!ca)return;if(cb){if(ea)ea.hide();da=null;ca=null;ea=null;}else ma=setTimeout(bb.hide.curry(true),ia);},setDialog:function(cb,db){db.disableBehavior(i).disableBehavior(p);aa[cb]=db;za(db);if(ba.endpoint==cb&&da==ba.node){ya().hide();var eb=ba.node.getAttribute('data-hovercard-position');eb&&db.setPosition(eb);var fb=ba.node.getAttribute('data-hovercard-offset-x');fb&&db.setOffsetX(parseInt(fb,10));var gb=ba.node.getAttribute('data-hovercard-offset-y');gb&&db.setOffsetY(parseInt(gb,10));ua(db);}},getDialog:function(cb){return aa[cb];},contains:function(cb){if(ea)return n.containsIncludingLayers(ea.getContentRoot(),cb);return false;},dirty:function(cb){var db=aa[cb];if(db){db.destroy();delete aa[cb];}},dirtyAll:function(){for(var cb in aa){var db=aa[cb];db&&bb.dirty(cb);}j.inform('Hovercard/dirty');},processNode:function(cb){if(cb&&oa(cb)){ra(cb);return true;}return false;},setDirtyAllOnPageTransition:function(cb){ab=cb;}};(function(){if(t.ie()<8)return;h.listen(document.documentElement,'mouseover',na);h.listen(window,'scroll',function(){if(ca&&s.isFixed(ca))bb.hide(true);});j.subscribe('page_transition',function(){ta();ab&&bb.dirtyAll();},j.SUBSCRIBE_NEW);})();e.exports=bb;});
__d("LegacyContextualDialog",["event-extensions","Arbiter","ArbiterMixin","ARIA","Bootloader","Class","ContextualDialogFooterLink","ContextualThing","CSS","DataStore","DOM","Locale","Overlay","Parent","Style","Vector","$","copyProperties","getOverlayZIndex","shield"],function(a,b,c,d,e,f){b('event-extensions');var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('ARIA'),j=b('Bootloader'),k=b('Class'),l=b('ContextualDialogFooterLink'),m=b('ContextualThing'),n=b('CSS'),o=b('DataStore'),p=b('DOM'),q=b('Locale'),r=b('Overlay'),s=b('Parent'),t=b('Style'),u=b('Vector'),v=b('$'),w=b('copyProperties'),x=b('getOverlayZIndex'),y=b('shield');function z(aa,ba){this.parent.construct(this,aa,ba);}k.extend(z,r);w(z,h,{ARROW_OFFSET:15,ARROW_LENGTH:16,ARROW_INSET:22,TOP_MARGIN:50,BOTTOM_MARGIN:30,LEFT_MARGIN:15,RIGHT_MARGIN:30,POSITION_TO_CLASS:{above:'uiContextualDialogAbove',below:'uiContextualDialogBelow',left:'uiContextualDialogLeft',right:'uiContextualDialogRight'},RIGHT_ALIGNED_CLASS:'uiContextualDialogRightAligned',ARROW_CLASS:{bottom:'uiContextualDialogArrowBottom',top:'uiContextualDialogArrowTop',right:'uiContextualDialogArrowRight',left:'uiContextualDialogArrowLeft'},POSITION_TO_ARROW:{above:'bottom',below:'top',left:'right',right:'left'},getInstance:function(aa){var ba=o.get(aa,'LegacyContextualDialog');if(!ba){var ca=s.byClass(aa,'uiOverlay');if(ca)ba=o.get(ca,'overlay');}return ba;}});w(z.prototype,{_scrollListener:null,_scrollParent:null,_width:null,_fixed:false,_hasFooter:false,_showSubscription:null,_hideSubscription:null,_setContextSubscription:null,_resizeListener:null,_reflowSubscription:null,_configure:function(aa,ba){this.parent._configure(aa,ba);var ca=this.getRoot(),da=o.get.curry(ca);this.setAlignH(da('alignh','left'));this.setOffsetX(da('offsetx',0));this.setOffsetY(da('offsety',0));this.setPosition(da('position','above'));this._hasFooter=da('hasfooter',false);if(this._hasFooter){var ea=p.scry(ca,'.uiContextualDialogFooterLink')[0];ea&&this.enableBehavior(l);}this._setContextSubscription=this.subscribe('beforeshow',function(){this.unsubscribe(this._setContextSubscription);this._setContextSubscription=null;var ga=da('context');if(ga){this.setContext(v(ga));}else{ga=da('contextselector');if(ga)this.setContext(p.find(document,ga));}}.bind(this));this._content=p.scry(ca,'.uiContextualDialogContent')[0];if(this._content){this._content.setAttribute('role','dialog');var fa=p.scry(this._content,'.legacyContextualDialogTitle')[0];if(fa)this._content.setAttribute('aria-labelledby',p.getID(fa));}this._showSubscription=this.subscribe('show',function(){var ga=y(this.updatePosition,this);this._resizeListener=Event.listen(window,'resize',ga);this._reflowSubscription=g.subscribe('reflow',ga);this._setupScrollListener(this._scrollParent);m.register(ca,this.context);g.inform('layer_shown',{type:'ContextualDialog'});}.bind(this));this._hideSubscription=this.subscribe('hide',function(){this._teardownResizeAndReflowListeners();this._teardownScrollListener();g.inform('layer_hidden',{type:'ContextualDialog'});}.bind(this));return this;},_buildWrapper:function(aa,ba){var ca=this.parent._buildWrapper(aa,ba);if(!this._shouldBuildWrapper)return ca;n.addClass(ca,'uiContextualDialog');return p.create('div',{className:'uiContextualDialogPositioner'},ca);},setWidth:function(aa){this._width=Math.floor(aa);return this;},setFixed:function(aa){aa=!!aa;n.conditionClass(this.getRoot(),'uiContextualDialogFixed',aa);this._fixed=aa;return this;},setAlignH:function(aa){this.alignH=aa;this._updateAlignmentClass();this._shown&&this.updatePosition();this.position&&this._updateArrow();return this;},getContent:function(){return this._content;},getContext:function(){return this.context;},setContext:function(aa){if(this._setContextSubscription){this.unsubscribe(this._setContextSubscription);this._setContextSubscription=null;}aa=v(aa);if(this.context&&this.context!=aa)o.remove(this.context,'LegacyContextualDialog');this.context=aa;i.setPopup(this.getCausalElement(),this.getRoot());var ba=s.byClass(aa,'fbPhotoSnowlift');this.setInsertParent(ba||document.body);if(this._scrollListener&&this._scrollParent!==ba){this._teardownScrollListener();this._setupScrollListener(ba);}this._scrollParent=ba;var ca=x(aa,this._insertParent);t.set(this.getRoot(),'z-index',ca>200?ca:'');o.set(this.context,'LegacyContextualDialog',this);return this;},getCausalElement:function(){return this.parent.getCausalElement()||this.context;},listen:function(aa,ba){return Event.listen(this.getRoot(),aa,ba);},setOffsetX:function(aa){this.offsetX=parseInt(aa,10)||0;this._shown&&this.updatePosition();return this;},setOffsetY:function(aa){this.offsetY=parseInt(aa,10)||0;this._shown&&this.updatePosition();return this;},setPosition:function(aa){this.position=aa;for(var ba in z.POSITION_TO_CLASS)n.conditionClass(this.getRoot(),z.POSITION_TO_CLASS[ba],aa==ba);this._updateAlignmentClass();this._shown&&this.updatePosition();this._updateArrow();return this;},updatePosition:function(){if(!this.context)return false;if(this._width)t.set(this._overlay,'width',this._width+'px');var aa=this._fixed?'viewport':'document',ba=u.getElementPosition(this.context,aa),ca=this._scrollParent;if(ca)ba=ba.sub(u.getElementPosition(ca,'document')).add(ca.scrollLeft,ca.scrollTop);var da=u.getElementDimensions(this.context),ea=this.position=='above'||this.position=='below',fa=q.isRTL();if((this.position=='right'||(ea&&this.alignH=='right'))!=fa)ba=ba.add(da.x,0);if(this.position=='below')ba=ba.add(0,da.y);var ga=new u(0,0);if(ea&&this.alignH=='center'){ga=ga.add((da.x-this._width)/2,0);}else{var ha=ea?da.x:da.y,ia=2*z.ARROW_INSET;if(ha<ia){var ja=ha/2-z.ARROW_INSET;if(ea&&(this.alignH=='right'!=fa))ja=-ja;ga=ga.add(ea?ja:0,ea?0:ja);}}ga=ga.add(this.offsetX,this.offsetY);if(fa)ga=ga.mul(-1,1);ba=ba.add(ga);if(this._fixed)ba=new u(ba.x,ba.y,'document');ba.setElementPosition(this.getRoot());this._adjustVerticalPosition();this._adjustHorizontalPosition();return true;},scrollTo:function(){if(this.context)j.loadModules(['DOMScroll'],function(aa){aa.scrollTo(this.context,true,true);}.bind(this));},destroy:function(){this.unsubscribe(this._showSubscription);this.unsubscribe(this._hideSubscription);if(this._setContextSubscription){this.unsubscribe(this._setContextSubscription);this._setContextSubscription=null;}this._teardownScrollListener();this._teardownResizeAndReflowListeners();this.context&&o.remove(this.context,'LegacyContextualDialog');this.parent.destroy();},_adjustVerticalPosition:function(){if(this.position!='left'&&this.position!='right'){t.set(this._overlay,'top','');return;}var aa=this.getRoot(),ba=u.getElementPosition(aa,'viewport').y,ca=u.getElementDimensions(this._overlay).y,da=u.getViewportDimensions().y,ea=z.TOP_MARGIN,fa=Math.min(Math.max(0,ba+ca+z.BOTTOM_MARGIN-da),Math.max(-ea,ba-ea),ca-2*z.ARROW_INSET);t.set(this._overlay,'top',(-1*fa)+'px');t.set(this._arrow,'top',z.ARROW_OFFSET+'px');t.set(this._arrow,'marginTop',fa+'px');},_adjustHorizontalPosition:function(){if((this.position!='above'&&this.position!='below')||this.alignH!='left'){t.set(this._overlay,'left','');t.set(this._overlay,'right','');return;}var aa=this.getRoot(),ba=u.getElementPosition(aa,'viewport').x,ca=u.getElementDimensions(this._overlay).x,da=u.getViewportDimensions().x,ea=q.isRTL(),fa;if(!ea){fa=ba+ca+z.RIGHT_MARGIN-da;}else fa=z.LEFT_MARGIN+ca-ba;fa=Math.min(Math.max(0,fa),ca-2*z.ARROW_INSET);t.set(this._overlay,ea?'right':'left',-1*fa+'px');t.set(this._arrow,ea?'right':'left',z.ARROW_OFFSET+'px');t.set(this._arrow,ea?'marginRight':'marginLeft',fa+'px');},_updateArrow:function(){var aa=0;if(this.position=='above'||this.position=='below')switch(this.alignH){case 'center':aa=50;break;case 'right':aa=100;break;}this._renderArrow(z.POSITION_TO_ARROW[this.position],aa);},_renderArrow:function(aa,ba){for(var ca in z.ARROW_CLASS)n.conditionClass(this._overlay,z.ARROW_CLASS[ca],aa==ca);n.conditionClass(this._overlay,'uiContextualDialogWithFooterArrowBottom',aa=='bottom'&&this._hasFooter);if(aa=='none')return;if(!this._arrow){this._arrow=p.create('i',{className:'uiContextualDialogArrow'});p.appendContent(this._overlay,this._arrow);}t.set(this._arrow,'top','');t.set(this._arrow,'left','');t.set(this._arrow,'right','');t.set(this._arrow,'margin','');var da=aa=='top'||aa=='bottom',ea=da?(q.isRTL()?'right':'left'):'top';ba=ba||0;t.set(this._arrow,ea,ba+'%');var fa=z.ARROW_LENGTH+z.ARROW_OFFSET*2,ga=-(fa*ba/100-z.ARROW_OFFSET);t.set(this._arrow,'margin-'+ea,ga+'px');},_updateAlignmentClass:function(){n.conditionClass(this.getRoot(),z.RIGHT_ALIGNED_CLASS,(this.position=='above'||this.position=='below')&&this.alignH=='right');},_setupScrollListener:function(aa){this._scrollListener=Event.listen(aa||window,'scroll',y(this._adjustVerticalPosition,this));},_teardownScrollListener:function(){if(this._scrollListener){this._scrollListener.remove();this._scrollListener=null;}},_teardownResizeAndReflowListeners:function(){if(this._resizeListener){this._resizeListener.remove();this._resizeListener=null;}if(this._reflowSubscription){this._reflowSubscription.unsubscribe();this._reflowSubscription=null;}}});e.exports=z;});
__d("ScrollableArea",["Animation","ArbiterMixin","BrowserSupport","CSS","DataStore","DOM","Event","Parent","Run","SimpleDrag","Style","UserAgent","Vector","copyProperties","shield","throttle"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('ArbiterMixin'),i=b('BrowserSupport'),j=b('CSS'),k=b('DataStore'),l=b('DOM'),m=b('Event'),n=b('Parent'),o=b('Run'),p=b('SimpleDrag'),q=b('Style'),r=b('UserAgent'),s=b('Vector'),t=b('copyProperties'),u=b('shield'),v=b('throttle'),w=12;function x(y,z){if(!y)return;z=z||{};this._elem=y;this._wrap=l.find(y,'div.uiScrollableAreaWrap');this._body=l.find(this._wrap,'div.uiScrollableAreaBody');this._content=l.find(this._body,'div.uiScrollableAreaContent');this._track=l.find(y,'div.uiScrollableAreaTrack');this._gripper=l.find(this._track,'div.uiScrollableAreaGripper');this._options=z;this._throttledComputeHeights=v.withBlocking(this._computeHeights,250,this);this.throttledAdjustGripper=v.withBlocking(this.adjustGripper,250,this);this._throttledShowGripperAndShadows=v.withBlocking(this._showGripperAndShadows,250,this);this.adjustGripper.bind(this).defer();this._listeners=[m.listen(this._wrap,'scroll',this._handleScroll.bind(this)),m.listen(y,'mousemove',this._handleMousemove.bind(this)),m.listen(this._track,'click',this._handleClickOnTrack.bind(this))];if(i.hasPointerEvents())this._listeners.push(m.listen(y,'click',this._handleClickOnTrack.bind(this)));if(z.fade!==false){this._listeners.push(m.listen(y,'mouseenter',u(this.showScrollbar,this)),m.listen(y,'mouseleave',u(this.hideScrollbar,this)));}else if(i.hasPointerEvents())this._listeners.push(m.listen(y,'mouseleave',j.removeClass.curry(y,'uiScrollableAreaTrackOver')));if(r.webkit()||r.chrome()){this._listeners.push(m.listen(y,'mousedown',function(){var aa=m.listen(window,'mouseup',function(){if(y.scrollLeft)y.scrollLeft=0;aa.remove();});}));}else if(r.firefox())this._wrap.addEventListener('DOMMouseScroll',function(event){event.axis===event.HORIZONTAL_AXIS&&event.preventDefault();},false);this.initDrag();k.set(this._elem,'ScrollableArea',this);if(!z.persistent)o.onLeave(this.destroy.bind(this));if(z.shadow!==false)j.addClass(this._elem,'uiScrollableAreaWithShadow');}t(x,{renderDOM:function(){var y=l.create('div',{className:'uiScrollableAreaContent'}),z=l.create('div',{className:'uiScrollableAreaBody'},y),aa=l.create('div',{className:'uiScrollableAreaWrap'},z),ba=l.create('div',{className:'uiScrollableArea native'},aa);return {root:ba,wrap:aa,body:z,content:y};},fromNative:function(y,z){if(!j.hasClass(y,'uiScrollableArea')||!j.hasClass(y,'native'))return;z=z||{};j.removeClass(y,'native');var aa=l.create('div',{className:'uiScrollableAreaTrack'},l.create('div',{className:'uiScrollableAreaGripper'}));if(z.fade!==false){j.addClass(y,'fade');j.addClass(aa,'invisible_elem');}else j.addClass(y,'nofade');l.appendContent(y,aa);var ba=new x(y,z);ba.resize();return ba;},getInstance:function(y){var z=n.byClass(y,'uiScrollableArea');return z?k.get(z,'ScrollableArea'):null;},poke:function(y){var z=x.getInstance(y);z&&z.poke();}});t(x.prototype,h,{initDrag:function(){var y=i.hasPointerEvents(),z=new p(y?this._elem:this._gripper);z.subscribe('start',function(aa,event){if(!((event.which&&event.which===1)||(event.button&&event.button===1)))return;var ba=s.getEventPosition(event,'viewport');if(y){var ca=this._gripper.getBoundingClientRect();if(ba.x<ca.left||ba.x>ca.right||ba.y<ca.top||ba.y>ca.bottom)return false;}this.inform('grip_start');var da=ba.y,ea=this._gripper.offsetTop;j.addClass(this._elem,'uiScrollableAreaDragging');var fa=z.subscribe('update',function(ha,event){var ia=s.getEventPosition(event,'viewport').y-da;this._throttledComputeHeights();var ja=this._contentHeight-this._containerHeight,ka=ea+ia,la=this._trackHeight-this._gripperHeight;ka=Math.max(Math.min(ka,la),0);var ma=ka/la*ja;this._wrap.scrollTop=ma;}.bind(this)),ga=z.subscribe('end',function(){z.unsubscribe(fa);z.unsubscribe(ga);j.removeClass(this._elem,'uiScrollableAreaDragging');this.inform('grip_end');}.bind(this));}.bind(this));},adjustGripper:function(){if(this._needsGripper()){q.set(this._gripper,'height',this._gripperHeight+'px');this._slideGripper();}this._throttledShowGripperAndShadows();return this;},_computeHeights:function(){this._containerHeight=this._elem.clientHeight;this._contentHeight=this._content.offsetHeight;this._trackHeight=this._track.offsetHeight;this._gripperHeight=Math.max(this._containerHeight/this._contentHeight*this._trackHeight,w);},_needsGripper:function(){this._throttledComputeHeights();return this._gripperHeight<this._trackHeight;},_slideGripper:function(){var y=this._wrap.scrollTop/(this._contentHeight-this._containerHeight)*(this._trackHeight-this._gripperHeight);q.set(this._gripper,'top',y+'px');},_showGripperAndShadows:function(){j.conditionShow(this._gripper,this._needsGripper());j.conditionClass(this._elem,'contentBefore',this._wrap.scrollTop>0);j.conditionClass(this._elem,'contentAfter',!this.isScrolledToBottom());},destroy:function(){this._listeners.forEach(function(y){y.remove();});this._listeners.length=0;},_handleClickOnTrack:function(event){if(!this.lastMousePosition)return;var y=this._gripper.getBoundingClientRect();if(this.lastMousePosition.x<y.right&&this.lastMousePosition.x>y.left){if(this.lastMousePosition.y<y.top){this.setScrollTop(this.getScrollTop()-this._elem.clientHeight);}else if(this.lastMousePosition.y>y.bottom)this.setScrollTop(this.getScrollTop()+this._elem.clientHeight);event.prevent();}},_handleMousemove:function(event){var y=s.getEventPosition(event),z=this._options.fade!==false;if(i.hasPointerEvents()||z){var aa=s.getElementPosition(this._track).x,ba=s.getElementDimensions(this._track).x,ca=Math.abs(aa+ba/2-y.x);j.conditionClass(this._elem,'uiScrollableAreaTrackOver',i.hasPointerEvents()&&ca<=10);if(z)if(ca<25){this.showScrollbar(false);}else if(!this._options.no_fade_on_hover)this.hideScrollbar();}this.lastMousePosition=y.convertTo('viewport');},_handleScroll:function(event){if(this._needsGripper())this._slideGripper();this.throttledAdjustGripper();if(this._options.fade!==false)this.showScrollbar();this.inform('scroll');},hideScrollbar:function(y){if(!this._scrollbarVisible)return this;this._scrollbarVisible=false;if(this._hideTimeout){clearTimeout(this._hideTimeout);this._hideTimeout=null;}if(y){q.set(this._track,'opacity',0);j.addClass.curry(this._track,'invisible_elem');}else this._hideTimeout=function(){if(this._hideAnimation){this._hideAnimation.stop();this._hideAnimation=null;}this._hideAnimation=(new g(this._track)).from('opacity',1).to('opacity',0).duration(250).ondone(j.addClass.curry(this._track,'invisible_elem')).go();}.bind(this).defer(750);return this;},resize:function(){var y=s.getElementDimensions(this._elem).x;if(this._options.fade===false)y-=10;y=Math.max(0,y);q.set(this._body,'width',y+'px');return this;},showScrollbar:function(y){this.throttledAdjustGripper();if(this._scrollbarVisible)return this;this._scrollbarVisible=true;if(this._hideTimeout){clearTimeout(this._hideTimeout);this._hideTimeout=null;}if(this._hideAnimation){this._hideAnimation.stop();this._hideAnimation=null;}q.set(this._track,'opacity',1);j.removeClass(this._track,'invisible_elem');if((y!==false)&&!this._options.no_fade_on_hover)this.hideScrollbar();return this;},isScrolledToBottom:function(){return this._wrap.scrollTop>=this._contentHeight-this._containerHeight;},scrollToBottom:function(y){this.setScrollTop(this._wrap.scrollHeight,y);},scrollToTop:function(y){this.setScrollTop(0,y);},scrollIntoView:function(y,z){var aa=this._wrap.clientHeight,ba=y.offsetHeight,ca=this._wrap.scrollTop,da=ca+aa,ea=y.offsetTop,fa=ea+ba;if(ea<ca||aa<ba){this.setScrollTop(ea,z);}else if(fa>da)this.setScrollTop(ca+(fa-da),z);},poke:function(){var y=this._wrap.scrollTop;this._wrap.scrollTop+=1;this._wrap.scrollTop-=1;this._wrap.scrollTop=y;return this.showScrollbar(false);},getScrollTop:function(){return this._wrap.scrollTop;},getScrollHeight:function(){return this._wrap.scrollHeight;},setScrollTop:function(y,z,aa){if(z!==false){if(this._scrollTopAnimation)this._scrollTopAnimation.stop();aa=aa||{};var ba=aa.duration||250,ca=aa.ease||g.ease.end;this._scrollTopAnimation=(new g(this._wrap)).to('scrollTop',y).ease(ca).duration(ba).go();}else this._wrap.scrollTop=y;}});e.exports=x;});
__d("HoverFlyout",["Arbiter","ArbiterMixin","DataStore","Event","Keys","arrayContains","copyProperties","removeFromArray","shield"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('DataStore'),j=b('Event'),k=b('Keys'),l=b('arrayContains'),m=b('copyProperties'),n=b('removeFromArray'),o=b('shield');function p(q,r,s,t){if(q){this._showDelay=s;this._hideDelay=t;this.init(q);if(r)this.initNode(r);}g.subscribe('SwapButtonDEPRECATED/focusOnJoinButton',o(this.hideFlyout,this),g.SUBSCRIBE_ALL);}m(p.prototype,h,{init:function(q){this._flyout=q;this._showDelay=this._showDelay||0;this._hideDelay=this._hideDelay||100;this._showTimeout=null;this._hideTimeout=null;this._flyoutSubscriptions=[this._flyout.subscribe('mouseenter',this._onFlyoutMouseEnter.bind(this)),this._flyout.subscribe('mouseleave',o(this.hideFlyout,this))];this._nodes=[];this._dataStoreUnique='HoverFlyout_'+Date.now()+'_listeners';return this;},initNode:function(q){if(l(this._nodes,q))return this;this._nodes.push(q);i.set(q,this._dataStoreUnique,[j.listen(q,'mouseenter',this._onNodeMouseEnter.bind(this,q)),j.listen(q,'mouseleave',o(this.hideFlyout,this)),j.listen(q,'click',this._onNodeMouseEnter.bind(this,q)),j.listen(q,'keydown',this._onNodeKeyEscape.bind(this))]);return this;},deactivateNode:function(q){var r=i.get(q,this._dataStoreUnique);if(r)while(r.length)r.pop().remove();n(this._nodes,q);},setShowDelay:function(q){this._showDelay=q;return this;},setHideDelay:function(q){this._hideDelay=q;return this;},showFlyout:function(q,r){this.setActiveNode(q);if(r){this._flyout.setContext(q).show();this.inform('show',q);}else this._showTimeout=this.showFlyout.bind(this,q,true).defer(this._showDelay);return this;},hideFlyout:function(q){clearTimeout(this._showTimeout);if(q){this._flyout.hide();this._activeNode&&this.inform('hide',this._activeNode);this._activeNode=null;}else this._hideTimeout=this.hideFlyout.bind(this,true).defer(this._hideDelay);},hideFlyoutDelayed:function(q){clearTimeout(this._showTimeout);clearTimeout(this._hideTimeout);this._hideTimeout=this.hideFlyout.bind(this,true).defer(q);},getActiveNode:function(){return this._activeNode;},setActiveNode:function(q){clearTimeout(this._hideTimeout);if(this._activeNode&&this._activeNode!==q)this.hideFlyout(true);this._activeNode=q;return this;},clearNodes:function(){for(var q=this._nodes.length;q>0;q--)this.deactivateNode(this._nodes[q-1]);},destroy:function(){while(this._flyoutSubscriptions.length)this._flyout.unsubscribe(this._flyoutSubscriptions.pop());this.clearNodes();},_onNodeMouseEnter:function(q){if(this._activeNode===q){clearTimeout(this._hideTimeout);}else this.showFlyout(q);},_onFlyoutMouseEnter:function(){clearTimeout(this._hideTimeout);},_onNodeKeyEscape:function(event){if(j.getKeyCode(event)===k.ESC){this._activeNode&&this.inform('hide',this._activeNode);this._activeNode=null;}}});e.exports=a.HoverFlyout||p;});
__d("legacy:Tooltip",["Tooltip"],function(a,b,c,d){a.Tooltip=b('Tooltip');},3);
__d("ClearableTypeahead",["Event"],function(a,b,c,d,e,f){var g=b('Event'),h={resetOnCloseButtonClick:function(i,j){g.listen(j,'click',function(){var k=i.getCore();k.getElement().focus();k.reset();});}};e.exports=h;});
__d("TypeaheadShowLoadingIndicator",["CSS","copyProperties"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('copyProperties');function i(j){this._typeahead=j;}h(i.prototype,{_subscription:null,enable:function(){this._subscription=this._typeahead.subscribe('loading',function(j,k){g.conditionClass(this._typeahead.getElement(),'typeaheadLoading',k.loading);g.conditionClass(this._typeahead.getView().getElement(),'typeaheadViewLoading',k.loading);}.bind(this));},disable:function(){this._typeahead.unsubscribe(this._subscription);this._subscription=null;}});e.exports=i;});
__d("legacy:ShowLoadingIndicatorTypeaheadBehavior",["TypeaheadShowLoadingIndicator"],function(a,b,c,d){var e=b('TypeaheadShowLoadingIndicator');if(!a.TypeaheadBehaviors)a.TypeaheadBehaviors={};a.TypeaheadBehaviors.showLoadingIndicator=function(f){f.enableBehavior(e);};},3);
__d("CompactTypeaheadRenderer",["DOM","TypeaheadFacepile"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('TypeaheadFacepile');function i(j,k){var l=[];if(j.xhp)return g.create('li',{className:'raw'},j.xhp);var m=j.photos||j.photo;if(m){if(m instanceof Array){m=h.render(m);}else m=g.create('img',{alt:'',src:m});l.push(m);}if(j.text)l.push(g.create('span',{className:'text'},[j.text]));var n=j.subtext,o=j.category;if(n||o){var p=[];n&&p.push(n);n&&o&&p.push(" \u00b7 ");o&&p.push(o);l.push(g.create('span',{className:'subtext'},p));}var q=g.create('li',{className:j.type||''},l);if(j.text)q.setAttribute('aria-label',j.text);return q;}i.className='compact';e.exports=i;});